(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,e=>{"use strict";var t=e.i(43476),d=e.i(71645),s=e.i(75157);let r=(0,d.forwardRef)(({className:e,hoverable:d,padding:r="md",children:i,...n},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("bg-white rounded-2xl border border-gray-100","shadow-sm",{none:"",sm:"p-4",md:"p-5",lg:"p-6"}[r],d&&"hover:shadow-md hover:border-gray-200 transition-all duration-200 cursor-pointer",e),...n,children:i}));r.displayName="Card",e.s(["default",0,r])},22706,e=>{"use strict";var t=e.i(43476);let d=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var s=e.i(18566);function r({title:e,subtitle:r,backHref:i,actions:n}){let l=(0,s.useRouter)();return(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i&&(0,t.jsx)("button",{onClick:()=>l.push(i),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,t.jsx)(d,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e}),r&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:r})]})]}),n&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:n})]})}e.s(["default",()=>r],22706)},96640,e=>{"use strict";var t=e.i(43476),d=e.i(75157);function s({status:e,className:s}){return(0,t.jsx)("span",{className:(0,d.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(0,d.getStatusColor)(e),s),children:(0,d.getStatusLabel)(e)})}e.s(["default",()=>s])},49804,e=>{"use strict";var t=e.i(43476),d=e.i(75157);function s({contract:e,partnerFilter:s}){let r=s?e.selectedItems.filter(e=>e.partnerName===s):e.selectedItems,i=r.reduce((e,t)=>{let d=`${t.partnerName} - ${t.categoryName}`;return e[d]||(e[d]=[]),e[d].push(t),e},{}),n=r.reduce((e,t)=>e+t.unitPrice,0);return(0,t.jsxs)("div",{className:"ic-print-container",children:[(0,t.jsxs)("div",{style:{textAlign:"center",borderBottom:"2px solid #111",paddingBottom:"16px",marginBottom:"24px"},children:[(0,t.jsx)("h1",{style:{fontSize:"22px",fontWeight:700,margin:0},children:"통합 계약서"}),(0,t.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginTop:"6px"},children:["계약번호: ",e.shortCode]})]}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",fontWeight:600,width:"20%"},children:"고객명"}),(0,t.jsx)("td",{style:{padding:"6px 12px",border:"1px solid #ddd",width:"30%"},children:e.customerName||"-"}),(0,t.jsx)("td",{style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",fontWeight:600,width:"20%"},children:"연락처"}),(0,t.jsx)("td",{style:{padding:"6px 12px",border:"1px solid #ddd",width:"30%"},children:e.customerPhone||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",fontWeight:600},children:"평형"}),(0,t.jsx)("td",{style:{padding:"6px 12px",border:"1px solid #ddd"},children:e.apartmentType?.name||"-"}),(0,t.jsx)("td",{style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",fontWeight:600},children:"서명일"}),(0,t.jsx)("td",{style:{padding:"6px 12px",border:"1px solid #ddd"},children:e.signedAt?(0,d.formatDateTime)(e.signedAt):"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",fontWeight:600},children:"행사"}),(0,t.jsx)("td",{colSpan:3,style:{padding:"6px 12px",border:"1px solid #ddd"},children:e.config?.event?.name||"-"})]})]})}),(0,t.jsxs)("h3",{style:{fontSize:"14px",fontWeight:700,marginBottom:"10px",borderBottom:"1px solid #333",paddingBottom:"4px"},children:["선택 내역 ",s&&(0,t.jsxs)("span",{style:{fontSize:"12px",fontWeight:400,color:"#666"},children:["(",s,")"]})]}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"12px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f0f0f0"},children:[(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"파트너"}),(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"카테고리"}),(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"옵션"}),(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"right",fontWeight:600},children:"금액"})]})}),(0,t.jsx)("tbody",{children:Object.entries(i).map(([e,d])=>d.map((s,r)=>(0,t.jsxs)("tr",{children:[0===r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{rowSpan:d.length,style:{padding:"5px 8px",border:"1px solid #ddd",verticalAlign:"top"},children:s.partnerName}),(0,t.jsx)("td",{rowSpan:d.length,style:{padding:"5px 8px",border:"1px solid #ddd",verticalAlign:"top"},children:s.categoryName})]}):null,(0,t.jsx)("td",{style:{padding:"5px 8px",border:"1px solid #ddd"},children:s.optionName}),(0,t.jsxs)("td",{style:{padding:"5px 8px",border:"1px solid #ddd",textAlign:"right"},children:[s.unitPrice.toLocaleString(),"원"]})]},`${e}-${r}`)))}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{style:{background:"#f9f9f9",fontWeight:700},children:[(0,t.jsx)("td",{colSpan:3,style:{padding:"8px",border:"1px solid #ddd",textAlign:"right"},children:s?"소계":"총 계약금액"}),(0,t.jsxs)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"right",fontSize:"14px"},children:[(s?n:e.totalAmount).toLocaleString(),"원"]})]})})]}),!s&&e.paymentSchedule&&e.paymentSchedule.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:700,marginBottom:"10px",borderBottom:"1px solid #333",paddingBottom:"4px"},children:"납부 일정"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"12px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f0f0f0"},children:[(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"구분"}),(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"right",fontWeight:600},children:"비율"}),(0,t.jsx)("th",{style:{padding:"6px 8px",border:"1px solid #ddd",textAlign:"right",fontWeight:600},children:"금액"})]})}),(0,t.jsx)("tbody",{children:e.paymentSchedule.map((e,d)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"5px 8px",border:"1px solid #ddd"},children:e.name}),(0,t.jsxs)("td",{style:{padding:"5px 8px",border:"1px solid #ddd",textAlign:"right"},children:[e.ratio,"%"]}),(0,t.jsxs)("td",{style:{padding:"5px 8px",border:"1px solid #ddd",textAlign:"right"},children:[e.amount.toLocaleString(),"원"]})]},d))})]})]}),e.specialNotes&&(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:700,marginBottom:"6px",borderBottom:"1px solid #333",paddingBottom:"4px"},children:"특이사항"}),(0,t.jsx)("p",{style:{fontSize:"12px",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:e.specialNotes})]}),e.signatureData&&(0,t.jsxs)("div",{style:{marginTop:"30px",textAlign:"right"},children:[(0,t.jsx)("p",{style:{fontSize:"12px",color:"#666",marginBottom:"8px"},children:"서명"}),(0,t.jsx)("img",{src:e.signatureData,alt:"고객 서명",style:{height:"60px",border:"1px solid #ddd",borderRadius:"4px",display:"inline-block"}}),(0,t.jsxs)("p",{style:{fontSize:"11px",color:"#999",marginTop:"4px"},children:[e.customerName||"고객"," (서명)"]})]}),(0,t.jsxs)("div",{style:{marginTop:"40px",borderTop:"1px solid #ddd",paddingTop:"10px",fontSize:"10px",color:"#999",textAlign:"center"},children:["본 계약서는 전자서명을 통해 체결되었습니다. · 계약번호: ",e.shortCode]})]})}e.s(["default",()=>s])},73222,e=>{"use strict";var t=e.i(43476),d=e.i(75157);function s({contract:e}){let s=e.selectedItems.reduce((e,t)=>{let d=`${t.partnerName} - ${t.categoryName}`;return e[d]||(e[d]=[]),e[d].push(t),e},{});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center border-b border-gray-200 pb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"통합 계약서"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["계약번호: ",e.shortCode]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-500",children:"계약자 정보"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"이름"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.customerName||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"연락처"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.customerPhone||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"타입"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.apartmentType?.name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"서명일"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.signedAt?(0,d.formatDateTime)(e.signedAt):"-"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-500",children:"선택 내역"}),Object.entries(s).map(([e,d])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:e}),d.map((e,d)=>(0,t.jsxs)("div",{className:"flex justify-between py-1.5 border-b border-gray-50",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e.optionName}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.unitPrice.toLocaleString(),"원"]})]},d))]},e))]}),(0,t.jsxs)("div",{className:"border-t-2 border-gray-900 pt-3",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,t.jsx)("span",{className:"font-bold text-gray-900",children:"총 계약금액"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[e.totalAmount.toLocaleString(),"원"]})]}),e.paymentSchedule&&e.paymentSchedule.length>0&&(0,t.jsx)("div",{className:"bg-gray-50 rounded-xl p-3 space-y-1.5",children:e.paymentSchedule.map((e,d)=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[e.name," (",e.ratio,"%)"]}),(0,t.jsxs)("span",{className:"font-medium",children:[e.amount.toLocaleString(),"원"]})]},d))})]}),e.signatureData&&(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"서명"}),(0,t.jsx)("img",{src:e.signatureData,alt:"서명",className:"h-20 border border-gray-200 rounded-lg bg-white"})]})]})}e.s(["default",()=>s])},2432,e=>{"use strict";var t=e.i(43476),d=e.i(71645),s=e.i(18566),r=e.i(9165),i=e.i(39964),n=e.i(96640),l=e.i(22706),a=e.i(73222),o=e.i(49804);function x(){let{id:e,contractId:x}=(0,s.useParams)(),c=(0,s.useRouter)(),[p,h]=(0,d.useState)(null),[m,g]=(0,d.useState)(""),[j,f]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{Promise.all([r.default.get(`/ic/contracts/${x}`).then(e=>(0,r.extractData)(e)),r.default.get("/users/profile").then(e=>e.data?.data).catch(()=>null)]).then(([e,t])=>{h(e),t?.organizationMemberships?.[0]?.organization?.name&&g(t.organizationMemberships[0].organization.name)}).catch(()=>c.push(`/partner/events/${e}/ic-contracts`)).finally(()=>f(!1))},[x,e,c]),j)return(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-24 bg-white rounded-2xl animate-pulse"},e))});if(!p)return null;let u=m?p.selectedItems.filter(e=>e.partnerName===m):p.selectedItems,y={...p,selectedItems:u};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"print-hidden",children:[(0,t.jsx)(l.default,{title:`통합 계약 ${p.shortCode}`,subtitle:`${p.customerName||"고객"} - 내 품목만 표시`,backHref:`/partner/events/${e}/ic-contracts`,actions:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>window.print(),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:"인쇄"}),(0,t.jsx)(n.default,{status:p.status})]})}),(0,t.jsx)(i.default,{children:(0,t.jsx)(a.default,{contract:y})})]}),(0,t.jsx)("div",{className:"hidden",style:{display:"none"},children:(0,t.jsx)("div",{className:"ic-print-container",children:(0,t.jsx)(o.default,{contract:p,partnerFilter:m||void 0})})})]})}e.s(["default",()=>x])}]);