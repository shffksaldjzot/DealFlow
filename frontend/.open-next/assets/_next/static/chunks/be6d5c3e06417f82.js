(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},59544,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let s=(0,r.forwardRef)(({className:e,variant:r="primary",size:s="md",fullWidth:l,loading:n,disabled:i,children:o,...d},c)=>(0,t.jsxs)("button",{ref:c,className:(0,a.cn)("inline-flex items-center justify-center font-semibold transition-all duration-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-400",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400 shadow-md"}[r],{sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[s],l&&"w-full",e),disabled:i||n,...d,children:[n&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));s.displayName="Button",e.s(["default",0,s])},39964,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let s=(0,r.forwardRef)(({className:e,hoverable:r,padding:s="md",children:l,...n},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("bg-white rounded-2xl border border-gray-100","shadow-sm",{none:"",sm:"p-4",md:"p-5",lg:"p-6"}[s],r&&"hover:shadow-md hover:border-gray-200 transition-all duration-200 cursor-pointer",e),...n,children:l}));s.displayName="Card",e.s(["default",0,s])},3812,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let s=(0,r.forwardRef)(({className:e,label:r,error:s,helperText:l,id:n,...i},o)=>{let d=n||r?.replace(/\s/g,"-").toLowerCase();return(0,t.jsxs)("div",{className:"w-full",children:[r&&(0,t.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1.5",children:r}),(0,t.jsx)("input",{ref:o,id:d,className:(0,a.cn)("w-full px-4 py-3 rounded-xl border bg-white text-gray-900 text-sm","placeholder:text-gray-400","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",s?"border-red-400 focus:ring-red-400":"border-gray-200 hover:border-gray-300","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",e),...i}),s&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-red-500",children:s}),l&&!s&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-gray-400",children:l})]})});s.displayName="Input",e.s(["default",0,s])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},30585,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let s=(0,a.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),l=(0,a.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);var n=e.i(37727),i=e.i(75157),o=e.i(9165);function d({accept:e=".pdf,.jpg,.jpeg,.png",maxSizeMB:a=10,label:d,helperText:c,onUploadComplete:u,purpose:m="other"}){let[p,x]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(""),N=(0,r.useRef)(null),j=async e=>{if(v(""),e.size>1024*a*1024)return void v(`파일 크기는 ${a}MB 이하여야 합니다.`);h(!0);try{let t=new FormData;t.append("file",e),t.append("purpose",m);let r=(0,o.extractData)(await o.default.post("/files/upload",t,{headers:{"Content-Type":"multipart/form-data"}}));f({id:r.id,name:r.originalName}),u?.(r.id,r.originalName,e)}catch{v("파일 업로드에 실패했습니다.")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"w-full",children:[d&&(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:d}),b?(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-xl border border-blue-200",children:[(0,t.jsx)(l,{className:"w-5 h-5 text-blue-600 shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-blue-800 truncate flex-1",children:b.name}),(0,t.jsx)("button",{onClick:()=>{f(null),N.current&&(N.current.value="")},className:"p-1 hover:bg-blue-100 rounded",children:(0,t.jsx)(n.X,{className:"w-4 h-4 text-blue-600"})})]}):(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:()=>x(!1),onDrop:e=>{e.preventDefault(),x(!1);let t=e.dataTransfer.files[0];t&&j(t)},onClick:()=>N.current?.click(),className:(0,i.cn)("flex flex-col items-center justify-center py-8 px-4 border-2 border-dashed rounded-xl cursor-pointer transition-all",p?"border-blue-400 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50",g&&"pointer-events-none opacity-60"),children:[(0,t.jsx)("input",{ref:N,type:"file",accept:e,onChange:e=>{let t=e.target.files?.[0];t&&j(t)},className:"hidden"}),(0,t.jsx)(s,{className:(0,i.cn)("w-8 h-8 mb-2",p?"text-blue-500":"text-gray-400")}),g?(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"업로드 중..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"파일을 드래그하거나 클릭하여 선택"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[e.replace(/\./g,"").toUpperCase()," / 최대 ",a,"MB"]})]})]}),y&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-red-500",children:y}),c&&!y&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-gray-400",children:c})]})}e.s(["default",()=>d],30585)},14454,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(92028),l=e.i(88840),n=e.i(59544),i=e.i(3812),o=e.i(39964),d=e.i(30585),c=e.i(9165),u=e.i(86536),m=e.i(46897);function p(){let{user:e}=(0,s.useAuthStore)(),{toast:p}=(0,l.useToast)(),x=(0,a.useRouter)(),[g,h]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),[y,v]=(0,r.useState)({name:"",bizNum1:"",bizNum2:"",bizNum3:"",representativeName:"",phone1:"",phone2:"",phone3:"",contactEmail:"",address:"",addressDetail:"",businessLicenseFileId:"",items:""});(0,r.useEffect)(()=>{e?.email&&v(t=>({...t,contactEmail:e.email}))},[e]),(0,r.useEffect)(()=>{if(!window.daum){let e=document.createElement("script");e.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",e.async=!0,document.head.appendChild(e)}},[]);let N=()=>{window.daum?.Postcode?new window.daum.Postcode({oncomplete:e=>{let t=e.roadAddress||e.jibunAddress;v(r=>({...r,address:`(${e.zonecode}) ${t}`}))}}).open():p("주소 검색 서비스를 불러오는 중입니다. 잠시 후 다시 시도해주세요.","error")},j=async()=>{let t=`${y.bizNum1}-${y.bizNum2}-${y.bizNum3}`,r=y.phone1&&y.phone2&&y.phone3?`${y.phone1}-${y.phone2}-${y.phone3}`:"",a=y.addressDetail?`${y.address} ${y.addressDetail}`:y.address;if(!y.name||!y.bizNum1||!y.bizNum2||!y.bizNum3||!y.businessLicenseFileId)return void p("업체명, 사업자번호, 사업자등록증은 필수입니다.","error");if(3!==y.bizNum1.length||2!==y.bizNum2.length||5!==y.bizNum3.length)return void p("사업자등록번호를 올바르게 입력해주세요. (3-2-5자리)","error");h(!0);try{await c.default.post("/organizations",{name:y.name,businessNumber:t,representativeName:y.representativeName,contactPhone:r,contactEmail:y.contactEmail,address:a,businessLicenseFileId:y.businessLicenseFileId,items:y.items||void 0,type:e?.role==="organizer"?"organizer":"partner"}),p("업체 등록이 완료되었습니다. DealFlow 승인 후 이용 가능합니다.","success"),x.push("/pending-approval")}catch{p("업체 등록에 실패했습니다.","error")}finally{h(!1)}},w=(e,t,r,a)=>{let s=t.replace(/\D/g,"").slice(0,r);v(t=>({...t,[e]:s})),s.length===r&&a&&document.getElementById(a)?.focus()},z=(e,t,r,a)=>{let s=t.replace(/\D/g,"").slice(0,r);v(t=>({...t,[e]:s})),s.length===r&&a&&document.getElementById(a)?.focus()};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"업체 등록"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"사업자 정보를 입력해주세요"})]}),(0,t.jsxs)(o.default,{padding:"lg",className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"space-y-4 overflow-hidden",children:[(0,t.jsx)(i.default,{label:"업체명 *",placeholder:"(주)딜플로우",value:y.name,onChange:e=>v({...y,name:e.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"사업자등록번호 *"}),(0,t.jsxs)("div",{className:"grid grid-cols-[3fr_auto_2fr_auto_5fr] items-center gap-1",children:[(0,t.jsx)("input",{id:"biz1",type:"text",inputMode:"numeric",placeholder:"000",value:y.bizNum1,onChange:e=>w("bizNum1",e.target.value,3,"biz2"),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:3}),(0,t.jsx)("span",{className:"text-gray-400 font-bold",children:"-"}),(0,t.jsx)("input",{id:"biz2",type:"text",inputMode:"numeric",placeholder:"00",value:y.bizNum2,onChange:e=>w("bizNum2",e.target.value,2,"biz3"),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:2}),(0,t.jsx)("span",{className:"text-gray-400 font-bold",children:"-"}),(0,t.jsx)("input",{id:"biz3",type:"text",inputMode:"numeric",placeholder:"00000",value:y.bizNum3,onChange:e=>w("bizNum3",e.target.value,5),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:5})]})]}),(0,t.jsx)(i.default,{label:"대표자명",placeholder:"홍길동",value:y.representativeName,onChange:e=>v({...y,representativeName:e.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"연락처"}),(0,t.jsxs)("div",{className:"grid grid-cols-[3fr_auto_4fr_auto_4fr] items-center gap-1",children:[(0,t.jsx)("input",{id:"ph1",type:"text",inputMode:"numeric",placeholder:"010",value:y.phone1,onChange:e=>z("phone1",e.target.value,3,"ph2"),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:3}),(0,t.jsx)("span",{className:"text-gray-400 font-bold",children:"-"}),(0,t.jsx)("input",{id:"ph2",type:"text",inputMode:"numeric",placeholder:"0000",value:y.phone2,onChange:e=>z("phone2",e.target.value,4,"ph3"),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:4}),(0,t.jsx)("span",{className:"text-gray-400 font-bold",children:"-"}),(0,t.jsx)("input",{id:"ph3",type:"text",inputMode:"numeric",placeholder:"0000",value:y.phone3,onChange:e=>z("phone3",e.target.value,4),className:"w-full min-w-0 px-1 py-2.5 border border-gray-200 rounded-xl text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:4})]})]}),(0,t.jsx)(i.default,{label:"이메일",type:"email",placeholder:"company@example.com",value:y.contactEmail,onChange:e=>v({...y,contactEmail:e.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"주소"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"text",readOnly:!0,placeholder:"주소 검색을 클릭하세요",value:y.address,className:"flex-1 px-3 py-2.5 border border-gray-200 rounded-xl text-sm bg-gray-50 focus:outline-none cursor-pointer",onClick:N}),(0,t.jsxs)("button",{type:"button",onClick:N,className:"flex items-center gap-1.5 px-4 py-2.5 bg-gray-800 text-white text-sm font-medium rounded-xl hover:bg-gray-700 transition-colors shrink-0",children:[(0,t.jsx)(m.MapPin,{className:"w-4 h-4"}),"검색"]})]}),(0,t.jsx)("input",{type:"text",placeholder:"상세 주소 입력",value:y.addressDetail,onChange:e=>v({...y,addressDetail:e.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e?.role==="partner"&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"취급 품목"}),(0,t.jsx)("input",{type:"text",placeholder:"예: 줄눈, 탄성코트, 가구, 가전, 도어락",value:y.items,onChange:e=>v({...y,items:e.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"쉼표(,)로 구분하여 입력하세요"})]}),(0,t.jsx)(d.default,{label:"사업자등록증 *",accept:".pdf,.jpg,.jpeg,.png",purpose:"business_license",onUploadComplete:(e,t,r)=>{v({...y,businessLicenseFileId:e}),r&&r.type.startsWith("image/")?f(URL.createObjectURL(r)):f(null)},helperText:"PDF, JPG, PNG 형식 / 최대 10MB"}),b&&(0,t.jsxs)("div",{className:"relative rounded-xl border border-gray-200 overflow-hidden bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 border-b border-gray-200",children:[(0,t.jsx)(u.Eye,{className:"w-3.5 h-3.5 text-gray-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"미리보기"})]}),(0,t.jsx)("img",{src:b,alt:"사업자등록증 미리보기",className:"w-full max-h-48 object-contain p-2"})]})]}),(0,t.jsx)(n.default,{fullWidth:!0,size:"lg",className:"mt-6",onClick:j,loading:g,children:"업체 등록 신청"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 text-center mt-3",children:"등록 후 DealFlow에서 승인 처리합니다"})]})]})})}e.s(["default",()=>p])}]);