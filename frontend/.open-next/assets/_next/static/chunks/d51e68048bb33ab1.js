(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22706,e=>{"use strict";var t=e.i(43476);let s=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var r=e.i(18566);function l({title:e,subtitle:l,backHref:a,actions:i}){let n=(0,r.useRouter)();return(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[a&&(0,t.jsx)("button",{onClick:()=>n.push(a),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,t.jsx)(s,{className:"w-5 h-5 text-gray-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e}),l&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:l})]})]}),i&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:i})]})}e.s(["default",()=>l],22706)},59544,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let l=(0,s.forwardRef)(({className:e,variant:s="primary",size:l="md",fullWidth:a,loading:i,disabled:n,children:o,...d},c)=>(0,t.jsxs)("button",{ref:c,className:(0,r.cn)("inline-flex items-center justify-center font-semibold transition-all duration-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-400",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400 shadow-md"}[s],{sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[l],a&&"w-full",e),disabled:n||i,...d,children:[i&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));l.displayName="Button",e.s(["default",0,l])},39964,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let l=(0,s.forwardRef)(({className:e,hoverable:s,padding:l="md",children:a,...i},n)=>(0,t.jsx)("div",{ref:n,className:(0,r.cn)("bg-white rounded-2xl border border-gray-100","shadow-sm",{none:"",sm:"p-4",md:"p-5",lg:"p-6"}[l],s&&"hover:shadow-md hover:border-gray-200 transition-all duration-200 cursor-pointer",e),...i,children:a}));l.displayName="Card",e.s(["default",0,l])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);let l=(0,s.forwardRef)(({className:e,label:s,error:l,helperText:a,id:i,...n},o)=>{let d=i||s?.replace(/\s/g,"-").toLowerCase();return(0,t.jsxs)("div",{className:"w-full",children:[s&&(0,t.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1.5",children:s}),(0,t.jsx)("input",{ref:o,id:d,className:(0,r.cn)("w-full px-4 py-3 rounded-xl border bg-white text-gray-900 text-sm","placeholder:text-gray-400","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",l?"border-red-400 focus:ring-red-400":"border-gray-200 hover:border-gray-300","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",e),...n}),l&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-red-500",children:l}),a&&!l&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-gray-400",children:a})]})});l.displayName="Input",e.s(["default",0,l])},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},54212,e=>{"use strict";let t=(0,e.i(75254).default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);e.s(["ZoomIn",()=>t],54212)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},55900,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},71649,e=>{"use strict";let t=(0,e.i(75254).default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);e.s(["Type",()=>t],71649)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},28835,e=>{"use strict";let t,s;var r,l,a,i,n,o=e.i(71645),d=Object.defineProperty,c=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,s)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,x=(e,t)=>{for(var s in t||(t={}))h.call(t,s)&&m(e,s,t[s]);if(c)for(var s of c(t))u.call(t,s)&&m(e,s,t[s]);return e},p=(e,t)=>{var s={};for(var r in e)h.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&c)for(var r of c(e))0>t.indexOf(r)&&u.call(e,r)&&(s[r]=e[r]);return s};(e=>{let t=class t{constructor(e,s,r,a){if(this.version=e,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(a<-1||a>7)throw RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let e=0;e<this.size;e++)i.push(!1);for(let e=0;e<this.size;e++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const n=this.addEccAndInterleave(r);if(this.drawCodewords(n),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const s=this.getPenaltyScore();s<e&&(a=t,e=s),this.applyMask(t)}}l(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(s,r){let l=e.QrSegment.makeSegments(s);return t.encodeSegments(l,r)}static encodeBinary(s,r){let l=e.QrSegment.makeBytes(s);return t.encodeSegments([l],r)}static encodeSegments(e,r,a=1,n=40,o=-1,d=!0){let c,h;if(!(t.MIN_VERSION<=a&&a<=n&&n<=t.MAX_VERSION)||o<-1||o>7)throw RangeError("Invalid value");for(c=a;;c++){let s=8*t.getNumDataCodewords(c,r),l=i.getTotalBits(e,c);if(l<=s){h=l;break}if(c>=n)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&h<=8*t.getNumDataCodewords(c,e)&&(r=e);let u=[];for(let t of e)for(let e of(s(t.mode.modeBits,4,u),s(t.numChars,t.mode.numCharCountBits(c),u),t.getData()))u.push(e);l(u.length==h);let m=8*t.getNumDataCodewords(c,r);l(u.length<=m),s(0,Math.min(4,m-u.length),u),s(0,(8-u.length%8)%8,u),l(u.length%8==0);for(let e=236;u.length<m;e^=253)s(e,8,u);let x=[];for(;8*x.length<u.length;)x.push(0);return u.forEach((e,t)=>x[t>>>3]|=e<<7-(7&t)),new t(c,r,x,o)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let s=0;s<t;s++)for(let r=0;r<t;r++)(0!=s||0!=r)&&(0!=s||r!=t-1)&&(s!=t-1||0!=r)&&this.drawAlignmentPattern(e[s],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,s=t;for(let e=0;e<10;e++)s=s<<1^(s>>>9)*1335;let a=(t<<10|s)^21522;l(a>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,r(a,e));this.setFunctionModule(8,7,r(a,6)),this.setFunctionModule(8,8,r(a,7)),this.setFunctionModule(7,8,r(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,r(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,r(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,r(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;l(t>>>18==0);for(let e=0;e<18;e++){let s=r(t,e),l=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(l,a,s),this.setFunctionModule(a,l,s)}}drawFinderPattern(e,t){for(let s=-4;s<=4;s++)for(let r=-4;r<=4;r++){let l=Math.max(Math.abs(r),Math.abs(s)),a=e+r,i=t+s;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=l&&4!=l)}}drawAlignmentPattern(e,t){for(let s=-2;s<=2;s++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+s,1!=Math.max(Math.abs(r),Math.abs(s)))}setFunctionModule(e,t,s){this.modules[t][e]=s,this.isFunction[t][e]=!0}addEccAndInterleave(e){let s=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(s,r))throw RangeError("Invalid argument");let a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][s],i=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][s],n=Math.floor(t.getNumRawDataModules(s)/8),o=a-n%a,d=Math.floor(n/a),c=[],h=t.reedSolomonComputeDivisor(i);for(let s=0,r=0;s<a;s++){let l=e.slice(r,r+d-i+(s<o?0:1));r+=l.length;let a=t.reedSolomonComputeRemainder(l,h);s<o&&l.push(0),c.push(l.concat(a))}let u=[];for(let e=0;e<c[0].length;e++)c.forEach((t,s)=>{(e!=d-i||s>=o)&&u.push(t[e])});return l(u.length==n),u}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let s=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let l=0;l<this.size;l++)for(let a=0;a<2;a++){let i=t-a,n=(t+1&2)==0?this.size-1-l:l;!this.isFunction[n][i]&&s<8*e.length&&(this.modules[n][i]=r(e[s>>>3],7-(7&s)),s++)}}l(s==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let s=0;s<this.size;s++){let r;switch(e){case 0:r=(s+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=s%3==0;break;case 3:r=(s+t)%3==0;break;case 4:r=(Math.floor(s/3)+Math.floor(t/2))%2==0;break;case 5:r=s*t%2+s*t%3==0;break;case 6:r=(s*t%2+s*t%3)%2==0;break;case 7:r=((s+t)%2+s*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][s]&&r&&(this.modules[t][s]=!this.modules[t][s])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let r=!1,l=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[s][i]==r?5==++l?e+=t.PENALTY_N1:l>5&&e++:(this.finderPenaltyAddHistory(l,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[s][i],l=1);e+=this.finderPenaltyTerminateAndCount(r,l,a)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let r=!1,l=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][s]==r?5==++l?e+=t.PENALTY_N1:l>5&&e++:(this.finderPenaltyAddHistory(l,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[i][s],l=1);e+=this.finderPenaltyTerminateAndCount(r,l,a)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let r=0;r<this.size-1;r++){let l=this.modules[s][r];l==this.modules[s][r+1]&&l==this.modules[s+1][r]&&l==this.modules[s+1][r+1]&&(e+=t.PENALTY_N2)}let s=0;for(let e of this.modules)s=e.reduce((e,t)=>e+ +!!t,s);let r=this.size*this.size,a=Math.ceil(Math.abs(20*s-10*r)/r)-1;return l(0<=a&&a<=9),l(0<=(e+=a*t.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),s=[6];for(let r=this.size-7;s.length<e;r-=t)s.splice(1,0,r);return s}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let s=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;s-=(25*t-10)*t-55,e>=7&&(s-=36)}return l(208<=s&&s<=29648),s}static getNumDataCodewords(e,s){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[s.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let s=[];for(let t=0;t<e-1;t++)s.push(0);s.push(1);let r=1;for(let l=0;l<e;l++){for(let e=0;e<s.length;e++)s[e]=t.reedSolomonMultiply(s[e],r),e+1<s.length&&(s[e]^=s[e+1]);r=t.reedSolomonMultiply(r,2)}return s}static reedSolomonComputeRemainder(e,s){let r=s.map(e=>0);for(let l of e){let e=l^r.shift();r.push(0),s.forEach((s,l)=>r[l]^=t.reedSolomonMultiply(s,e))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let s=0;for(let r=7;r>=0;r--)s=s<<1^(s>>>7)*285^(t>>>r&1)*e;return l(s>>>8==0),s}finderPenaltyCountPatterns(e){let t=e[1];l(t<=3*this.size);let s=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(s&&e[0]>=4*t&&e[6]>=t?1:0)+(s&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,s){return e&&(this.finderPenaltyAddHistory(t,s),t=0),t+=this.size,this.finderPenaltyAddHistory(t,s),this.finderPenaltyCountPatterns(s)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function s(e,t,s){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let r=t-1;r>=0;r--)s.push(e>>>r&1)}function r(e,t){return(e>>>t&1)!=0}function l(e){if(!e)throw Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;let a=class e{constructor(e,t,s){if(this.mode=e,this.numChars=t,this.bitData=s,t<0)throw RangeError("Invalid argument");this.bitData=s.slice()}static makeBytes(t){let r=[];for(let e of t)s(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError("String contains non-numeric characters");let r=[];for(let e=0;e<t.length;){let l=Math.min(t.length-e,3);s(parseInt(t.substring(e,e+l),10),3*l+1,r),e+=l}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){let r;if(!e.isAlphanumeric(t))throw RangeError("String contains unencodable characters in alphanumeric mode");let l=[];for(r=0;r+2<=t.length;r+=2){let a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));s(a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),11,l)}return r<t.length&&s(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,l),new e(e.Mode.ALPHANUMERIC,t.length,l)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw RangeError("ECI assignment value out of range");if(t<128)s(t,8,r);else if(t<16384)s(2,2,r),s(t,14,r);else if(t<1e6)s(6,3,r),s(t,21,r);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let s=0;for(let r of e){let e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;s+=4+e+r.bitData.length}return s}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let s=0;s<e.length;s++)"%"!=e.charAt(s)?t.push(e.charCodeAt(s)):(t.push(parseInt(e.substring(s+1,s+3),16)),s+=2);return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=a;e.QrSegment=a})(n||(n={})),l=(r=n||(n={})).QrCode||(r.QrCode={}),(t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}}).LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),l.Ecc=t,i=(a=n||(n={})).QrSegment||(a.QrSegment={}),(s=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s;var f=n,g={L:f.QrCode.Ecc.LOW,M:f.QrCode.Ecc.MEDIUM,Q:f.QrCode.Ecc.QUARTILE,H:f.QrCode.Ecc.HIGH},b="#FFFFFF",y="#000000";function v(e,t=0){let s=[];return e.forEach(function(e,r){let l=null;e.forEach(function(a,i){if(!a&&null!==l){s.push(`M${l+t} ${r+t}h${i-l}v1H${l+t}z`),l=null;return}if(i===e.length-1){if(!a)return;null===l?s.push(`M${i+t},${r+t} h1v1H${i+t}z`):s.push(`M${l+t},${r+t} h${i+1-l}v1H${l+t}z`);return}a&&null===l&&(l=i)})}),s.join("")}function N(e,t){return e.slice().map((e,s)=>s<t.y||s>=t.y+t.h?e:e.map((e,s)=>(s<t.x||s>=t.x+t.w)&&e))}function j({value:e,level:t,minVersion:s,includeMargin:r,marginSize:l,imageSettings:a,size:i,boostLevel:n}){let d=o.default.useMemo(()=>{let r=(Array.isArray(e)?e:[e]).reduce((e,t)=>(e.push(...f.QrSegment.makeSegments(t)),e),[]);return f.QrCode.encodeSegments(r,g[t],s,void 0,void 0,n)},[e,t,s,n]),{cells:c,margin:h,numCells:u,calculatedImageSettings:m}=o.default.useMemo(()=>{let e=d.getModules(),t=null!=l?Math.max(Math.floor(l),0):4*!!r,s=e.length+2*t,n=function(e,t,s,r){if(null==r)return null;let l=e.length+2*s,a=Math.floor(.1*t),i=l/t,n=(r.width||a)*i,o=(r.height||a)*i,d=null==r.x?e.length/2-n/2:r.x*i,c=null==r.y?e.length/2-o/2:r.y*i,h=null==r.opacity?1:r.opacity,u=null;if(r.excavate){let e=Math.floor(d),t=Math.floor(c),s=Math.ceil(n+d-e),r=Math.ceil(o+c-t);u={x:e,y:t,w:s,h:r}}return{x:d,y:c,h:o,w:n,excavation:u,opacity:h,crossOrigin:r.crossOrigin}}(e,i,t,a);return{cells:e,margin:t,numCells:s,calculatedImageSettings:n}},[d,i,a,r,l]);return{qrcode:d,margin:h,cells:c,numCells:u,calculatedImageSettings:m}}var w=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();o.default.forwardRef(function(e,t){let{value:s,size:r=128,level:l="L",bgColor:a=b,fgColor:i=y,includeMargin:n=!1,minVersion:d=1,boostLevel:c,marginSize:h,imageSettings:u}=e,m=p(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=m,g=p(m,["style"]),C=null==u?void 0:u.src,k=o.default.useRef(null),M=o.default.useRef(null),E=o.default.useCallback(e=>{k.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),[R,T]=o.default.useState(!1),{margin:S,cells:A,numCells:P,calculatedImageSettings:z}=j({value:s,level:l,minVersion:d,boostLevel:c,includeMargin:n,marginSize:h,imageSettings:u,size:r});o.default.useEffect(()=>{if(null!=k.current){let e=k.current,t=e.getContext("2d");if(!t)return;let s=A,l=M.current,n=null!=z&&null!==l&&l.complete&&0!==l.naturalHeight&&0!==l.naturalWidth;n&&null!=z.excavation&&(s=N(A,z.excavation));let o=window.devicePixelRatio||1;e.height=e.width=r*o;let d=r/P*o;t.scale(d,d),t.fillStyle=a,t.fillRect(0,0,P,P),t.fillStyle=i,w?t.fill(new Path2D(v(s,S))):A.forEach(function(e,s){e.forEach(function(e,r){e&&t.fillRect(r+S,s+S,1,1)})}),z&&(t.globalAlpha=z.opacity),n&&t.drawImage(l,z.x+S,z.y+S,z.w,z.h)}}),o.default.useEffect(()=>{T(!1)},[C]);let L=x({height:r,width:r},f),Y=null;return null!=C&&(Y=o.default.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{T(!0)},ref:M,crossOrigin:null==z?void 0:z.crossOrigin})),o.default.createElement(o.default.Fragment,null,o.default.createElement("canvas",x({style:L,height:r,width:r,ref:E,role:"img"},g)),Y)}).displayName="QRCodeCanvas";var C=o.default.forwardRef(function(e,t){let{value:s,size:r=128,level:l="L",bgColor:a=b,fgColor:i=y,includeMargin:n=!1,minVersion:d=1,boostLevel:c,title:h,marginSize:u,imageSettings:m}=e,f=p(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:w,numCells:C,calculatedImageSettings:k}=j({value:s,level:l,minVersion:d,boostLevel:c,includeMargin:n,marginSize:u,imageSettings:m,size:r}),M=w,E=null;null!=m&&null!=k&&(null!=k.excavation&&(M=N(w,k.excavation)),E=o.default.createElement("image",{href:m.src,height:k.h,width:k.w,x:k.x+g,y:k.y+g,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));let R=v(M,g);return o.default.createElement("svg",x({height:r,width:r,viewBox:`0 0 ${C} ${C}`,ref:t,role:"img"},f),!!h&&o.default.createElement("title",null,h),o.default.createElement("path",{fill:a,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),o.default.createElement("path",{fill:i,d:R,shapeRendering:"crispEdges"}),E)});C.displayName="QRCodeSVG",e.s(["QRCodeSVG",()=>C])},83627,e=>{"use strict";var t=e.i(85873);e.s(["Edit3",()=>t.default])},85873,e=>{"use strict";let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["default",()=>t])},74558,e=>{"use strict";var t=e.i(85873);e.s(["PenLine",()=>t.default])},87307,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(59544),l=e.i(3812),a=e.i(27612),i=e.i(71649),n=e.i(75254);let o=(0,n.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var d=e.i(87316),c=e.i(43432),h=e.i(63488),u=e.i(74558);let m=(0,n.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),x=(0,n.default)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var p=e.i(54212);let f=(0,n.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var g=e.i(74886);let b=(0,n.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),y=(0,n.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),v=(0,n.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),N=(0,n.default)("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),j=(0,n.default)("align-center-horizontal",[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M10 16v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-4",key:"11f1s0"}],["path",{d:"M10 8V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4",key:"t14dx9"}],["path",{d:"M20 16v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1",key:"1w07xs"}],["path",{d:"M14 8V7c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v1",key:"1apec2"}]]),w=(0,n.default)("align-center-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"M8 10H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h4",key:"14d6g8"}],["path",{d:"M16 10h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4",key:"1e2lrw"}],["path",{d:"M8 20H7a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2h1",key:"1fkdwx"}],["path",{d:"M16 14h1a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1",key:"1euafb"}]]),C=[{value:"text",label:"텍스트",icon:i.Type},{value:"number",label:"숫자",icon:o},{value:"date",label:"날짜",icon:d.Calendar},{value:"checkbox",label:"체크박스",icon:m},{value:"phone",label:"전화번호",icon:c.Phone},{value:"email",label:"이메일",icon:h.Mail},{value:"signature",label:"서명",icon:u.PenLine}],k=[{name:"기본 계약서",description:"이름, 연락처, 날짜, 금액, 서명",fields:[{fieldType:"text",label:"이름",placeholder:"성명을 입력하세요",isRequired:!0,pageNumber:1,positionX:15,positionY:10,width:30,height:5},{fieldType:"phone",label:"연락처",placeholder:"010-0000-0000",isRequired:!0,pageNumber:1,positionX:15,positionY:18,width:30,height:5},{fieldType:"date",label:"계약일",isRequired:!0,pageNumber:1,positionX:55,positionY:10,width:25,height:5},{fieldType:"number",label:"금액",placeholder:"계약 금액",isRequired:!0,pageNumber:1,positionX:55,positionY:18,width:25,height:5},{fieldType:"signature",label:"서명",isRequired:!0,pageNumber:1,positionX:35,positionY:80,width:30,height:12}]},{name:"간단 동의서",description:"이름, 동의 체크, 서명",fields:[{fieldType:"text",label:"이름",placeholder:"성명",isRequired:!0,pageNumber:1,positionX:15,positionY:15,width:30,height:5},{fieldType:"checkbox",label:"동의함",isRequired:!1,pageNumber:1,positionX:15,positionY:65,width:5,height:5},{fieldType:"signature",label:"서명",isRequired:!0,pageNumber:1,positionX:35,positionY:80,width:30,height:12}]},{name:"상세 계약서",description:"이름, 연락처, 이메일, 주소, 날짜, 금액, 동의, 서명",fields:[{fieldType:"text",label:"성명",placeholder:"성명",isRequired:!0,pageNumber:1,positionX:10,positionY:8,width:25,height:5},{fieldType:"phone",label:"연락처",placeholder:"010-0000-0000",isRequired:!0,pageNumber:1,positionX:10,positionY:16,width:25,height:5},{fieldType:"email",label:"이메일",placeholder:"email@example.com",isRequired:!1,pageNumber:1,positionX:10,positionY:24,width:25,height:5},{fieldType:"text",label:"주소",placeholder:"주소 입력",isRequired:!1,pageNumber:1,positionX:10,positionY:32,width:40,height:5},{fieldType:"date",label:"계약일",isRequired:!0,pageNumber:1,positionX:55,positionY:8,width:25,height:5},{fieldType:"number",label:"계약금액",placeholder:"금액",isRequired:!0,pageNumber:1,positionX:55,positionY:16,width:25,height:5},{fieldType:"checkbox",label:"약관 동의",isRequired:!1,pageNumber:1,positionX:10,positionY:70,width:5,height:5},{fieldType:"signature",label:"서명",isRequired:!0,pageNumber:1,positionX:35,positionY:80,width:30,height:12}]}];function M({fields:e,onChange:n,templateImageUrl:o}){let[d,c]=(0,s.useState)(new Set),[h,u]=(0,s.useState)(null),[m,M]=(0,s.useState)(!1),[E,R]=(0,s.useState)(1),[T,S]=(0,s.useState)(null),A=(0,s.useRef)(null),P=(0,s.useRef)(null),z=e=>c(new Set([e])),L=()=>c(new Set),Y=e=>{c(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})};(0,s.useEffect)(()=>{let t=t=>{if(0===d.size)return;let s=t.target.tagName;if("INPUT"===s||"TEXTAREA"===s||"SELECT"===s)return;let r=t.shiftKey?.5:1,l=0,a=0;switch(t.key){case"ArrowLeft":l=-r;break;case"ArrowRight":l=r;break;case"ArrowUp":a=-r;break;case"ArrowDown":a=r;break;case"Delete":case"Backspace":"INPUT"!==s&&"TEXTAREA"!==s&&(t.preventDefault(),I());return;default:return}t.preventDefault();let i=[...e];d.forEach(e=>{let t=i[e];i[e]={...t,positionX:Math.max(0,Math.min(100-Number(t.width),Number(t.positionX)+l)),positionY:Math.max(0,Math.min(100-Number(t.height),Number(t.positionY)+a))}}),n(i)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[d,e,n]);let I=()=>{let t=Array.from(d).sort((e,t)=>t-e),s=[...e];for(let e of t)s=s.filter((t,s)=>s!==e);n(s),L()},X=(t,s)=>{n(e.map((e,r)=>r===t?{...e,...s}:e))},O=()=>{let t=Array.from(d).sort((e,t)=>e-t);if(0===t[0])return;let s=[...e],r=new Set;for(let e of t)[s[e-1],s[e]]=[s[e],s[e-1]],r.add(e-1);n(s),c(r)},$=()=>{let t=Array.from(d).sort((e,t)=>t-e);if(t[0]===e.length-1)return;let s=[...e],r=new Set;for(let e of t)[s[e],s[e+1]]=[s[e+1],s[e]],r.add(e+1);n(s),c(r)},F=t=>{if(d.size<2)return;let s=Array.from(d),r=s.map(t=>e[t]),l=[...e];switch(t){case"left":{let e=Math.min(...r.map(e=>Number(e.positionX)));s.forEach(t=>{l[t]={...l[t],positionX:e}});break}case"right":{let e=Math.max(...r.map(e=>Number(e.positionX)+Number(e.width)));s.forEach(t=>{l[t]={...l[t],positionX:e-Number(l[t].width)}});break}case"top":{let e=Math.min(...r.map(e=>Number(e.positionY)));s.forEach(t=>{l[t]={...l[t],positionY:e}});break}case"bottom":{let e=Math.max(...r.map(e=>Number(e.positionY)+Number(e.height)));s.forEach(t=>{l[t]={...l[t],positionY:e-Number(l[t].height)}});break}case"centerH":{let e=(Math.min(...r.map(e=>Number(e.positionX)))+Math.max(...r.map(e=>Number(e.positionX)+Number(e.width))))/2;s.forEach(t=>{l[t]={...l[t],positionX:e-Number(l[t].width)/2}});break}case"centerV":{let e=(Math.min(...r.map(e=>Number(e.positionY)))+Math.max(...r.map(e=>Number(e.positionY)+Number(e.height))))/2;s.forEach(t=>{l[t]={...l[t],positionY:e-Number(l[t].height)/2}})}}n(l)},H=(0,s.useCallback)((t,s,r,l)=>{l||z(t),u(t);let a=A.current;if(!a)return;let i=a.getBoundingClientRect(),o=e[t];o.positionX,o.positionY;let c=(l?Array.from(d):[t]).map(t=>({idx:t,x:Number(e[t].positionX),y:Number(e[t].positionY)})),h=(t,l)=>{let a=(t-s)/i.width*100,o=(l-r)/i.height*100,d=[...e];c.forEach(({idx:e,x:t,y:s})=>{let r=d[e];d[e]={...r,positionX:Math.round(10*Math.max(0,Math.min(100-Number(r.width),t+a)))/10,positionY:Math.round(10*Math.max(0,Math.min(100-Number(r.height),s+o)))/10}}),n(d)},m=e=>h(e.clientX,e.clientY),x=e=>{e.preventDefault(),h(e.touches[0].clientX,e.touches[0].clientY)},p=()=>{u(null),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",p)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",p)},[e,d]),D=(0,s.useCallback)((t,s,r)=>{z(t);let l=A.current;if(!l)return;let a=l.getBoundingClientRect(),i=e[t],n=Number(i.width),o=Number(i.height),d=(e,l)=>{let d=(e-s)/a.width*100,c=(l-r)/a.height*100;X(t,{width:Math.round(10*Math.max(5,Math.min(100-Number(i.positionX),n+d)))/10,height:Math.round(10*Math.max(2,Math.min(100-Number(i.positionY),o+c)))/10})},c=e=>d(e.clientX,e.clientY),h=e=>{e.preventDefault(),d(e.touches[0].clientX,e.touches[0].clientY)},u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",u)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.addEventListener("touchmove",h,{passive:!1}),document.addEventListener("touchend",u)},[e]),q=(0,s.useCallback)((e,t)=>{if(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.metaKey||t.altKey)return void Y(e);let s=d.has(e)&&d.size>1;H(e,t.clientX,t.clientY,s)},[H,d]),_=(0,s.useCallback)((e,t)=>{t.preventDefault(),t.stopPropagation();let s=d.has(e)&&d.size>1;H(e,t.touches[0].clientX,t.touches[0].clientY,s)},[H,d]),B=(0,s.useCallback)(t=>{let s=A.current;if(!s)return;let r=s.getBoundingClientRect(),l=(t.clientX-r.left)/r.width*100,a=(t.clientY-r.top)/r.height*100;L(),S({x1:l,y1:a,x2:l,y2:a});let i=e=>{let t=(e.clientX-r.left)/r.width*100,s=(e.clientY-r.top)/r.height*100;S(e=>e?{...e,x2:t,y2:s}:null)},n=()=>{S(t=>{if(!t)return null;let s=Math.min(t.x1,t.x2),r=Math.max(t.x1,t.x2),l=Math.min(t.y1,t.y2),a=Math.max(t.y1,t.y2);if(r-s>2||a-l>2){let t=new Set;e.forEach((e,i)=>{let n=Number(e.positionX),o=Number(e.positionY),d=Number(e.width),c=Number(e.height);n<r&&n+d>s&&o<a&&o+c>l&&t.add(i)}),c(t)}return null}),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)},[e]),U=1===d.size?Array.from(d)[0]:null,V=null!==U?e[U]:null,Q=T?{left:Math.min(T.x1,T.x2),top:Math.min(T.y1,T.y2),width:Math.abs(T.x2-T.x1),height:Math.abs(T.y2-T.y1)}:null;return(0,t.jsxs)("div",{className:"flex gap-4 h-full",ref:P,tabIndex:-1,children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("button",{onClick:()=>R(e=>Math.max(.5,e-.1)),className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"축소",children:(0,t.jsx)(f,{className:"w-4 h-4 text-gray-600"})}),(0,t.jsx)("input",{type:"range",min:50,max:200,value:Math.round(100*E),onChange:e=>R(Number(e.target.value)/100),className:"flex-1 h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-blue-500"}),(0,t.jsx)("button",{onClick:()=>R(e=>Math.min(2,e+.1)),className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",title:"확대",children:(0,t.jsx)(p.ZoomIn,{className:"w-4 h-4 text-gray-600"})}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 min-w-[3rem] text-center",children:[Math.round(100*E),"%"]}),d.size>0&&(0,t.jsxs)("span",{className:"text-[10px] text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full",children:[d.size,"개 선택 | 방향키로 미세조정"]})]}),(0,t.jsx)("div",{className:"overflow-auto flex-1",style:{maxHeight:"calc(100vh - 160px)"},children:(0,t.jsxs)("div",{ref:A,className:"relative bg-white border-2 border-dashed border-gray-200 rounded-xl overflow-hidden origin-top-left",style:{aspectRatio:"210/297",transform:`scale(${E})`,transformOrigin:"top left",width:"100%"},onMouseDown:B,children:[o&&!m?(0,t.jsx)("img",{src:o,alt:"Template",className:"absolute inset-0 w-full h-full object-fill",onError:()=>M(!0)}):(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-300",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm",children:"계약서 템플릿 미리보기"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"필드를 추가하고 드래그하여 배치하세요"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"빈 공간 드래그로 여러 필드 선택"})]})}),Q&&Q.width+Q.height>2&&(0,t.jsx)("div",{className:"absolute border-2 border-blue-400 bg-blue-100/30 pointer-events-none z-20",style:{left:`${Q.left}%`,top:`${Q.top}%`,width:`${Q.width}%`,height:`${Q.height}%`}}),e.map((e,s)=>{let r=C.find(t=>t.value===e.fieldType)?.icon||i.Type,l=d.has(s);return(0,t.jsxs)("div",{className:`absolute border-2 rounded cursor-move transition-colors flex items-center text-left gap-1 px-1 text-xs ${l?"border-blue-500 bg-blue-50/80 z-10":"border-blue-300/60 bg-blue-50/50 hover:border-blue-400"}`,style:{left:`${e.positionX}%`,top:`${e.positionY}%`,width:`${e.width}%`,height:`${e.height}%`,minHeight:"20px"},onMouseDown:e=>q(s,e),onTouchStart:e=>_(s,e),children:[(0,t.jsx)(r,{className:"w-3 h-3 text-blue-500 shrink-0"}),(0,t.jsx)("span",{className:"truncate text-blue-700",children:e.label}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-blue-500 cursor-se-resize rounded-tl-sm",onMouseDown:e=>{e.stopPropagation(),e.preventDefault(),D(s,e.clientX,e.clientY)},onTouchStart:e=>{e.stopPropagation(),e.preventDefault(),D(s,e.touches[0].clientX,e.touches[0].clientY)}})]},s)})]})})]}),(0,t.jsxs)("div",{className:"w-64 shrink-0 space-y-3 overflow-y-auto",style:{maxHeight:"calc(100vh - 120px)"},children:[0===e.length&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(x,{className:"w-3.5 h-3.5 text-blue-600"}),(0,t.jsx)("p",{className:"text-xs font-semibold text-blue-700",children:"필드 템플릿"})]}),(0,t.jsx)("div",{className:"space-y-1.5",children:k.map(e=>(0,t.jsxs)("button",{onClick:()=>{n(e.fields.map((e,t)=>({...e,sortOrder:t}))),L()},className:"w-full text-left px-2.5 py-2 rounded-lg bg-white border border-blue-100 hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:e.description})]},e.name))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:"필드 추가"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1.5",children:C.map(({value:s,label:r,icon:l})=>(0,t.jsxs)("button",{onClick:()=>{let t,r;return t=C.find(e=>e.value===s),r={fieldType:s,label:t?.label||s,placeholder:"",isRequired:!0,pageNumber:1,positionX:10+2*e.length%60,positionY:10+5*e.length%60,width:"signature"===s?25:"checkbox"===s?5:20,height:"signature"===s?8:"checkbox"===s?5:4,sortOrder:e.length},void(n([...e,r]),z(e.length))},className:"flex items-center gap-1.5 px-2 py-1.5 text-xs rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors",children:[(0,t.jsx)(l,{className:"w-3.5 h-3.5 text-gray-500"}),r]},s))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("p",{className:"text-xs font-semibold text-gray-500",children:["필드 목록 (",e.length,")"]}),d.size>0&&(0,t.jsx)("button",{onClick:L,className:"text-[10px] text-gray-400 hover:text-gray-600",children:"선택 해제"})]}),d.size>=2&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-2 p-1.5 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("span",{className:"text-[10px] text-blue-600 font-medium mr-auto",children:[d.size,"개 선택"]}),(0,t.jsx)("button",{onClick:O,className:"p-1 rounded hover:bg-blue-100 text-blue-600 transition-colors",title:"위로 이동",children:(0,t.jsx)(b,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:$,className:"p-1 rounded hover:bg-blue-100 text-blue-600 transition-colors",title:"아래로 이동",children:(0,t.jsx)(y,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:I,className:"p-1 rounded hover:bg-red-100 text-red-500 transition-colors",title:"선택 삭제",children:(0,t.jsx)(a.Trash2,{className:"w-3.5 h-3.5"})})]}),(0,t.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:0===e.length?(0,t.jsx)("p",{className:"text-xs text-gray-400 text-center py-3",children:"위에서 필드를 추가하세요"}):e.map((s,r)=>{let l=d.has(r);return(0,t.jsxs)("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer text-xs ${l?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:e=>{e.ctrlKey||e.metaKey||e.altKey?Y(r):z(r)},children:[(0,t.jsx)("input",{type:"checkbox",checked:l,onChange:()=>Y(r),onClick:e=>e.stopPropagation(),className:"w-3 h-3 rounded border-gray-300 text-blue-600 shrink-0"}),(0,t.jsx)("span",{className:"flex-1 truncate",children:s.label}),(0,t.jsx)("button",{onClick:t=>{let s,l;t.stopPropagation(),l={...s=e[r],id:void 0,positionX:Math.min(Number(s.positionX)+3,100-Number(s.width)),positionY:Math.min(Number(s.positionY)+3,100-Number(s.height)),sortOrder:e.length,label:`${s.label} (복사)`},n([...e,l]),z(e.length)},className:"text-gray-400 hover:text-blue-500",title:"복사",children:(0,t.jsx)(g.Copy,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e.filter((e,t)=>t!==r)),c(e=>{let t=new Set;return e.forEach(e=>{e<r?t.add(e):e>r&&t.add(e-1)}),t})},className:"text-gray-400 hover:text-red-500",children:(0,t.jsx)(a.Trash2,{className:"w-3 h-3"})})]},r)})})]}),V&&null!==U&&(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:"필드 속성"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(l.default,{label:"라벨",value:V.label,onChange:e=>X(U,{label:e.target.value})}),(0,t.jsx)(l.default,{label:"안내 문구",value:V.placeholder||"",onChange:e=>X(U,{placeholder:e.target.value})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"required",checked:V.isRequired,onChange:e=>X(U,{isRequired:e.target.checked}),className:"rounded border-gray-300"}),(0,t.jsx)("label",{htmlFor:"required",className:"text-xs text-gray-600",children:"필수 입력"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(l.default,{label:"X (%)",type:"number",value:String(V.positionX),onChange:e=>X(U,{positionX:Number(e.target.value)})}),(0,t.jsx)(l.default,{label:"Y (%)",type:"number",value:String(V.positionY),onChange:e=>X(U,{positionY:Number(e.target.value)})}),(0,t.jsx)(l.default,{label:"너비 (%)",type:"number",value:String(V.width),onChange:e=>X(U,{width:Number(e.target.value)})}),(0,t.jsx)(l.default,{label:"높이 (%)",type:"number",value:String(V.height),onChange:e=>X(U,{height:Number(e.target.value)})})]})]})]}),d.size>1&&(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-3",children:[(0,t.jsxs)("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:[d.size,"개 선택됨"]}),(0,t.jsx)("p",{className:"text-[10px] font-medium text-gray-400 mb-1.5",children:"가로 정렬"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-1 mb-2",children:[(0,t.jsxs)("button",{onClick:()=>F("left"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"좌측 정렬",children:[(0,t.jsx)(v,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[9px]",children:"좌측"})]}),(0,t.jsxs)("button",{onClick:()=>F("centerH"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"가로 중앙 정렬",children:[(0,t.jsx)(j,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[9px]",children:"중앙"})]}),(0,t.jsxs)("button",{onClick:()=>F("right"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"우측 정렬",children:[(0,t.jsx)(N,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[9px]",children:"우측"})]})]}),(0,t.jsx)("p",{className:"text-[10px] font-medium text-gray-400 mb-1.5",children:"세로 정렬"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-1 mb-3",children:[(0,t.jsxs)("button",{onClick:()=>F("top"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"상단 정렬",children:[(0,t.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[(0,t.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,t.jsx)("rect",{x:"6",y:"4",width:"4",height:"12",rx:"1",fill:"currentColor",opacity:"0.3"}),(0,t.jsx)("rect",{x:"14",y:"4",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}),(0,t.jsx)("span",{className:"text-[9px]",children:"상단"})]}),(0,t.jsxs)("button",{onClick:()=>F("centerV"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"세로 중앙 정렬",children:[(0,t.jsx)(w,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[9px]",children:"중앙"})]}),(0,t.jsxs)("button",{onClick:()=>F("bottom"),className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg border border-gray-100 hover:bg-blue-50 hover:border-blue-200 transition-colors text-gray-600 hover:text-blue-600",title:"하단 정렬",children:[(0,t.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[(0,t.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,t.jsx)("rect",{x:"6",y:"8",width:"4",height:"12",rx:"1",fill:"currentColor",opacity:"0.3"}),(0,t.jsx)("rect",{x:"14",y:"12",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}),(0,t.jsx)("span",{className:"text-[9px]",children:"하단"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(r.default,{size:"sm",variant:"outline",fullWidth:!0,onClick:O,children:[(0,t.jsx)(b,{className:"w-3.5 h-3.5 mr-1"}),"위로 이동"]}),(0,t.jsxs)(r.default,{size:"sm",variant:"outline",fullWidth:!0,onClick:$,children:[(0,t.jsx)(y,{className:"w-3.5 h-3.5 mr-1"}),"아래로 이동"]}),(0,t.jsxs)(r.default,{size:"sm",variant:"danger",fullWidth:!0,onClick:I,children:[(0,t.jsx)(a.Trash2,{className:"w-3.5 h-3.5 mr-1"}),"선택 삭제"]})]})]})]})]})}e.s(["default",()=>M],87307)},86570,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),l=e.i(28835),a=e.i(9165),i=e.i(59544),n=e.i(39964),o=e.i(22706),d=e.i(88840),c=e.i(95468),h=e.i(74886),u=e.i(43531),m=e.i(63059),x=e.i(64659),p=e.i(55900),f=e.i(78583),g=e.i(83627),b=e.i(84614),y=e.i(23962),v=e.i(7233),N=e.i(87307);function j({fileUrl:e,fileType:r,fields:l,fieldValues:a,onFieldChange:i}){let[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),m=l.filter(e=>"signature"!==e.fieldType).sort((e,t)=>e.sortOrder-t.sortOrder),f=m.filter(e=>e.positionX>0||e.positionY>0),g=m.filter(e=>!e.positionX&&!e.positionY);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative bg-white rounded-xl border border-gray-200 overflow-hidden",children:["pdf"===r?(0,t.jsx)("iframe",{src:e,className:"w-full",style:{minHeight:"600px",height:"80vh"},title:"계약서 템플릿"}):d?(0,t.jsx)("div",{className:"flex items-center justify-center py-20 text-gray-300",children:(0,t.jsx)("p",{className:"text-sm",children:"이미지를 불러올 수 없습니다"})}):(0,t.jsx)("img",{src:e,alt:"계약서 템플릿",className:"w-full",onLoad:()=>o(!0),onError:()=>c(!0)}),f.length>0&&"pdf"!==r&&n&&(0,t.jsx)("div",{className:"absolute inset-0",children:f.map(e=>(0,t.jsx)("div",{className:"absolute",style:{left:`${e.positionX}%`,top:`${e.positionY}%`,width:e.width?`${e.width}%`:"20%",height:e.height?`${e.height}%`:"auto"},children:"checkbox"===e.fieldType?(0,t.jsxs)("label",{className:"flex items-center gap-1.5 bg-white/90 rounded px-1 py-0.5",children:[(0,t.jsx)("input",{type:"checkbox",checked:"true"===a[e.id],onChange:t=>i(e.id,t.target.checked?"true":"false"),className:"w-5 h-5 rounded border-gray-300 text-blue-600"}),(0,t.jsx)("span",{className:"text-xs text-gray-700 truncate",children:e.label})]}):(0,t.jsx)("input",{type:"date"===e.fieldType?"date":"text",inputMode:"number"===e.fieldType||"amount"===e.fieldType?"numeric":void 0,placeholder:e.placeholder||e.label,value:("number"===e.fieldType||"amount"===e.fieldType)&&a[e.id]?Number(a[e.id]).toLocaleString("ko-KR"):a[e.id]||"",onChange:t=>{if("number"===e.fieldType||"amount"===e.fieldType){let s=t.target.value.replace(/[^0-9]/g,"");i(e.id,s)}else i(e.id,t.target.value)},className:"w-full px-2 py-1 text-sm border border-blue-300 rounded bg-white/90 focus:outline-none focus:ring-2 focus:ring-blue-500"})},e.id))})]}),(g.length>0||"pdf"===r&&m.length>0)&&(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsxs)("button",{className:"flex items-center justify-between w-full",onClick:()=>u(e=>!e),children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"계약 정보 입력"}),h?(0,t.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(x.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),h&&(0,t.jsx)("div",{className:"space-y-4 mt-4",children:("pdf"===r?m:g).map(e=>(0,t.jsx)("div",{children:"checkbox"===e.fieldType?(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:"true"===a[e.id],onChange:t=>i(e.id,t.target.checked?"true":"false"),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[e.label,e.isRequired&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.isRequired&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("input",{type:"date"===e.fieldType?"date":"text",inputMode:"number"===e.fieldType||"amount"===e.fieldType?"numeric":void 0,placeholder:e.placeholder||"",value:("number"===e.fieldType||"amount"===e.fieldType)&&a[e.id]?Number(a[e.id]).toLocaleString("ko-KR"):a[e.id]||"",onChange:t=>{if("number"===e.fieldType||"amount"===e.fieldType){let s=t.target.value.replace(/[^0-9]/g,"");i(e.id,s)}else i(e.id,t.target.value)},className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})},e.id))})]})]})}let w={select:"템플릿 선택",editor:"계약서 편집",info:"고객 정보",qr:"QR 코드"},C={select:f.FileText,editor:g.Edit3,info:b.User,qr:y.QrCode},k=["select","editor","info","qr"];function M(){let{id:e}=(0,r.useParams)(),y=(0,r.useRouter)(),{toast:M}=(0,d.useToast)(),[E,R]=(0,s.useState)("select"),[T,S]=(0,s.useState)([]),[A,P]=(0,s.useState)(!0),[z,L]=(0,s.useState)(!1),[Y,I]=(0,s.useState)(""),X=T.find(e=>e.id===Y),[O,$]=(0,s.useState)([]),[F,H]=(0,s.useState)([]),[D,q]=(0,s.useState)(""),[_,B]=(0,s.useState)(!1),[U,V]=(0,s.useState)(!1),[Q,K]=(0,s.useState)(!1),[W,G]=(0,s.useState)(!1),[Z,J]=(0,s.useState)({}),[ee,et]=(0,s.useState)(!1),[es,er]=(0,s.useState)(""),[el,ea]=(0,s.useState)(""),[ei,en]=(0,s.useState)(null),[eo,ed]=(0,s.useState)(!1),[ec,eh]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a.default.get("/contract-templates",{params:{eventId:e}}).then(e=>{let t=(0,a.extractData)(e);S(t),t.length>0&&I(t[0].id)}).catch(()=>M("템플릿을 불러올 수 없습니다.","error")).finally(()=>P(!1))},[e,M]);let eu=async()=>{if(Y){B(!0);try{let e=(0,a.extractData)(await a.default.get(`/contract-templates/${Y}/fields`));$(e),H(e.map((e,t)=>({fieldType:e.fieldType,label:e.label,placeholder:e.placeholder,isRequired:e.isRequired,pageNumber:e.pageNumber,positionX:e.positionX,positionY:e.positionY,width:e.width,height:e.height,sortOrder:t,defaultValue:e.defaultValue})));let t=T.find(e=>e.id===Y);if(t?.fileId)try{let e=(await a.default.get(`/files/${t.fileId}/download`,{responseType:"blob"})).data;e.size>0&&e.type?.startsWith("image/")&&(q(URL.createObjectURL(e)),V(!1))}catch{}}catch{M("템플릿 필드를 불러오지 못했습니다.","error")}finally{B(!1)}}},em=async()=>{G(!0);try{let e=F.map((e,t)=>({fieldType:e.fieldType,label:e.label,placeholder:e.placeholder||void 0,isRequired:e.isRequired,pageNumber:e.pageNumber,positionX:e.positionX,positionY:e.positionY,width:e.width,height:e.height,sortOrder:t,defaultValue:e.defaultValue||void 0}));await a.default.post(`/contract-templates/${Y}/fields`,{fields:e});let t=(0,a.extractData)(await a.default.get(`/contract-templates/${Y}/fields`));$(t),K(!1),M("필드가 저장되었습니다.","success")}catch{M("필드 저장에 실패했습니다.","error")}finally{G(!1)}},ex=async()=>{let t=el.replace(/,/g,"");if(!t||isNaN(Number(t))||0>=Number(t))return void M("계약 금액을 올바르게 입력해주세요.","error");if(!es.trim())return void M("고객명을 입력해주세요.","error");L(!0);try{let s={eventId:e,templateId:Y,totalAmount:Number(t),customerName:es.trim()},r=(0,a.extractData)(await a.default.post("/contracts",s)),l=Object.entries(Z).filter(([,e])=>e);if(l.length>0)try{await a.default.post(`/contracts/${r.id}/prefill`,{fieldValues:l.map(([e,t])=>({fieldId:e,value:t}))})}catch{}en(r),R("qr"),M("계약이 생성되었습니다.","success")}catch(t){let e=t.response?.data?.message||"계약 생성에 실패했습니다.";M(Array.isArray(e)?e[0]:e,"error")}finally{L(!1)}},ep=k.indexOf(E);return A?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-12 bg-white rounded-2xl animate-pulse"}),(0,t.jsx)("div",{className:"h-64 bg-white rounded-2xl animate-pulse"})]}):0===T.length?(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{title:"새 계약 생성",backHref:`/partner/events/${e}`}),(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"사용 가능한 템플릿이 없습니다."}),(0,t.jsx)(i.default,{variant:"outline",onClick:()=>y.push(`/partner/events/${e}/templates/new`),children:"템플릿 먼저 등록하기"})]})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{title:"새 계약 생성",backHref:"select"===E?`/partner/events/${e}`:void 0,subtitle:w[E]}),(0,t.jsx)("div",{className:"flex items-center gap-1 mb-6 px-1",children:k.map((e,s)=>{let r=C[e],l=s<ep;return(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors ${s===ep?"bg-blue-100 text-blue-700":l?"bg-green-50 text-green-600":"bg-gray-50 text-gray-400"}`,children:[(0,t.jsx)(r,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:w[e]}),(0,t.jsx)("span",{className:"sm:hidden",children:s+1})]}),s<k.length-1&&(0,t.jsx)(m.ChevronRight,{className:`w-4 h-4 mx-1 shrink-0 ${l?"text-green-400":"text-gray-200"}`})]},e)})}),"select"===E&&(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"계약서 템플릿을 선택하세요"}),(0,t.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,t.jsxs)("button",{onClick:()=>I(e.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 text-left transition-colors ${Y===e.id?"border-blue-500 bg-blue-50":"border-gray-100 hover:border-gray-200 hover:bg-gray-50"}`,children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Y===e.id?"bg-blue-100":"bg-gray-100"}`,children:(0,t.jsx)(f.FileText,{className:`w-5 h-5 ${Y===e.id?"text-blue-600":"text-gray-400"}`})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:`text-sm font-medium ${Y===e.id?"text-blue-900":"text-gray-900"}`,children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-0.5",children:[e.fileType?.toUpperCase()," / ",e.fields?.length||0,"개 필드"]})]}),Y===e.id&&(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:(0,t.jsx)(u.Check,{className:"w-3 h-3 text-white"})})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[(0,t.jsx)(i.default,{variant:"secondary",onClick:()=>y.back(),children:"취소"}),(0,t.jsxs)(i.default,{onClick:()=>{Y?(eu(),R("editor")):M("템플릿을 선택해주세요.","error")},disabled:!Y,children:["다음: 계약서 확인",(0,t.jsx)(m.ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}),"editor"===E&&(0,t.jsx)("div",{className:"space-y-4",children:_?(0,t.jsx)("div",{className:"h-96 bg-white rounded-2xl animate-pulse"}):Q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-700",children:["필드 편집 - ",X?.name]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.default,{variant:"secondary",size:"sm",onClick:()=>K(!1),children:"취소"}),(0,t.jsx)(i.default,{size:"sm",onClick:em,loading:W,children:"저장"})]})]})}),(0,t.jsx)("div",{style:{minHeight:"60vh"},children:(0,t.jsx)(N.default,{fields:F,onChange:H,templateImageUrl:D})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.default,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-700",children:[X?.name," - 사전 입력"]}),(0,t.jsxs)(i.default,{variant:"outline",size:"sm",onClick:()=>K(!0),children:[(0,t.jsx)(g.Edit3,{className:"w-3.5 h-3.5 mr-1"}),"필드 편집"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"고객이 작성할 항목을 미리 입력할 수 있습니다. (선택사항)"}),D&&!U?(0,t.jsx)(j,{fileUrl:D,fileType:X?.fileType||"jpg",fields:O,fieldValues:Z,onFieldChange:(e,t)=>J(s=>({...s,[e]:t}))}):(0,t.jsx)("div",{className:"relative bg-white border-2 border-gray-100 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-20 text-gray-300",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.FileText,{className:"w-12 h-12 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"템플릿 미리보기"})]})})})]}),O.length>0?(0,t.jsxs)(n.default,{padding:"sm",children:[(0,t.jsxs)("button",{className:"flex items-center justify-between w-full",onClick:()=>et(e=>!e),children:[(0,t.jsxs)("h4",{className:"text-xs font-semibold text-gray-500",children:["입력 필드 (",O.length,"개)"]}),ee?(0,t.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(x.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),ee&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:O.map(e=>(0,t.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs ${Z[e.id]?"bg-green-50 text-green-700":e.isRequired?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-500"}`,children:[e.label,e.isRequired&&(0,t.jsx)("span",{className:"text-red-400 ml-0.5",children:"*"}),Z[e.id]&&(0,t.jsx)("span",{className:"ml-1",children:"✓"})]},e.id))})]}):(0,t.jsx)(n.default,{padding:"sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"필드가 없습니다. 텍스트박스, 체크박스 등을 추가하세요."}),(0,t.jsxs)(i.default,{variant:"outline",size:"sm",onClick:()=>K(!0),children:[(0,t.jsx)(v.Plus,{className:"w-3.5 h-3.5 mr-1"}),"필드 추가"]})]})}),(0,t.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,t.jsx)(i.default,{variant:"secondary",onClick:()=>R("select"),children:"이전"}),(0,t.jsxs)(i.default,{onClick:()=>{R("info")},children:["다음: 고객 정보",(0,t.jsx)(m.ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}),"info"===E&&(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center pb-4 border-b border-gray-100",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(b.User,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"고객 정보 입력"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"QR 코드 생성 전 고객 정보를 입력해주세요"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["고객명 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:es,onChange:e=>er(e.target.value),placeholder:"고객 이름을 입력하세요",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["계약 금액 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:el,onChange:e=>{let t=e.target.value.replace(/[^0-9]/g,"");ea(t?Number(t).toLocaleString("ko-KR"):"")},placeholder:"금액을 입력하세요",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),(0,t.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-gray-400",children:"원"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"템플릿"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:X?.name})]}),es.trim()&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"고객명"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:es.trim()})]}),el&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"계약금액"}),(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:[el,"원"]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-3 pt-4 border-t border-gray-100",children:[(0,t.jsx)(i.default,{variant:"secondary",onClick:()=>R("editor"),children:"이전"}),(0,t.jsxs)(i.default,{onClick:ex,loading:z,disabled:!el||!es.trim(),children:["다음: QR 코드 생성",(0,t.jsx)(m.ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}),"qr"===E&&ei&&(0,t.jsx)(n.default,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:(0,t.jsx)(c.CheckCircle2,{className:"w-8 h-8 text-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"계약이 생성되었습니다"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"고객에게 QR 코드를 보여주거나 안내코드를 전달하세요."}),(0,t.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[ei.shortCode&&(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-blue-50 rounded-xl border-2 border-blue-200",children:[(0,t.jsx)("p",{className:"text-xs text-blue-600 font-medium mb-2",children:"고객 안내용 코드"}),(0,t.jsx)("p",{className:"text-3xl font-bold font-mono text-blue-900 tracking-widest mb-3",children:ei.shortCode}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(ei.shortCode),eh(!0),setTimeout(()=>eh(!1),2e3)},className:"flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-700 font-medium",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Check,{className:"w-3.5 h-3.5"})," 복사됨"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Copy,{className:"w-3.5 h-3.5"})," 코드 복사"]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"계약번호"}),(0,t.jsx)("span",{className:"font-mono font-bold text-gray-900",children:ei.contractNumber})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"고객명"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:ei.customerName||es})]}),ei.totalAmount&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"계약 금액"}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(ei.totalAmount)})]}),ei.qrCode&&(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-xl",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"QR 코드"}),(0,t.jsx)("div",{className:"p-3 bg-white rounded-xl border border-gray-100",children:(0,t.jsx)(l.QRCodeSVG,{value:`${window.location.origin}/contract/${ei.qrCode}`,size:180,level:"H",includeMargin:!0,fgColor:"#1a1a1a"})}),(0,t.jsx)("button",{onClick:()=>{let e=`${window.location.origin}/contract/${ei.qrCode}`;navigator.clipboard.writeText(e),ed(!0),setTimeout(()=>ed(!1),2e3)},className:"mt-3 flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-700 font-medium",children:eo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Check,{className:"w-3.5 h-3.5"})," 복사됨"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Copy,{className:"w-3.5 h-3.5"})," 링크 복사"]})})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4 text-xs text-yellow-700",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"고객 서명 프로세스"}),(0,t.jsx)("p",{children:"고객이 QR 코드를 스캔하면 본인 단말기에서 계약서를 확인하고 서명 및 본인인증을 진행합니다."})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,t.jsx)(i.default,{variant:"outline",onClick:()=>y.push(`/partner/events/${e}`),children:"행사로 돌아가기"}),(0,t.jsx)(i.default,{onClick:()=>{R("select"),en(null),ea(""),er(""),ed(!1),eh(!1),$([]),J({}),q(""),V(!1)},children:"새 계약 생성"})]})]})})]})}e.s(["default",()=>M],86570)}]);