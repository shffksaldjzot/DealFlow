(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},28835,e=>{"use strict";let t,s;var a,r,l,i,n,o=e.i(71645),c=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,s)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,x=(e,t)=>{for(var s in t||(t={}))u.call(t,s)&&m(e,s,t[s]);if(d)for(var s of d(t))h.call(t,s)&&m(e,s,t[s]);return e},f=(e,t)=>{var s={};for(var a in e)u.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&d)for(var a of d(e))0>t.indexOf(a)&&h.call(e,a)&&(s[a]=e[a]);return s};(e=>{let t=class t{constructor(e,s,a,l){if(this.version=e,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(l<-1||l>7)throw RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let e=0;e<this.size;e++)i.push(!1);for(let e=0;e<this.size;e++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const n=this.addEccAndInterleave(a);if(this.drawCodewords(n),-1==l){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const s=this.getPenaltyScore();s<e&&(l=t,e=s),this.applyMask(t)}}r(0<=l&&l<=7),this.mask=l,this.applyMask(l),this.drawFormatBits(l),this.isFunction=[]}static encodeText(s,a){let r=e.QrSegment.makeSegments(s);return t.encodeSegments(r,a)}static encodeBinary(s,a){let r=e.QrSegment.makeBytes(s);return t.encodeSegments([r],a)}static encodeSegments(e,a,l=1,n=40,o=-1,c=!0){let d,u;if(!(t.MIN_VERSION<=l&&l<=n&&n<=t.MAX_VERSION)||o<-1||o>7)throw RangeError("Invalid value");for(d=l;;d++){let s=8*t.getNumDataCodewords(d,a),r=i.getTotalBits(e,d);if(r<=s){u=r;break}if(d>=n)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&u<=8*t.getNumDataCodewords(d,e)&&(a=e);let h=[];for(let t of e)for(let e of(s(t.mode.modeBits,4,h),s(t.numChars,t.mode.numCharCountBits(d),h),t.getData()))h.push(e);r(h.length==u);let m=8*t.getNumDataCodewords(d,a);r(h.length<=m),s(0,Math.min(4,m-h.length),h),s(0,(8-h.length%8)%8,h),r(h.length%8==0);for(let e=236;h.length<m;e^=253)s(e,8,h);let x=[];for(;8*x.length<h.length;)x.push(0);return h.forEach((e,t)=>x[t>>>3]|=e<<7-(7&t)),new t(d,a,x,o)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let s=0;s<t;s++)for(let a=0;a<t;a++)(0!=s||0!=a)&&(0!=s||a!=t-1)&&(s!=t-1||0!=a)&&this.drawAlignmentPattern(e[s],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,s=t;for(let e=0;e<10;e++)s=s<<1^(s>>>9)*1335;let l=(t<<10|s)^21522;r(l>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,a(l,e));this.setFunctionModule(8,7,a(l,6)),this.setFunctionModule(8,8,a(l,7)),this.setFunctionModule(7,8,a(l,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,a(l,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,a(l,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,a(l,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;r(t>>>18==0);for(let e=0;e<18;e++){let s=a(t,e),r=this.size-11+e%3,l=Math.floor(e/3);this.setFunctionModule(r,l,s),this.setFunctionModule(l,r,s)}}drawFinderPattern(e,t){for(let s=-4;s<=4;s++)for(let a=-4;a<=4;a++){let r=Math.max(Math.abs(a),Math.abs(s)),l=e+a,i=t+s;0<=l&&l<this.size&&0<=i&&i<this.size&&this.setFunctionModule(l,i,2!=r&&4!=r)}}drawAlignmentPattern(e,t){for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,t+s,1!=Math.max(Math.abs(a),Math.abs(s)))}setFunctionModule(e,t,s){this.modules[t][e]=s,this.isFunction[t][e]=!0}addEccAndInterleave(e){let s=this.version,a=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(s,a))throw RangeError("Invalid argument");let l=t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][s],i=t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][s],n=Math.floor(t.getNumRawDataModules(s)/8),o=l-n%l,c=Math.floor(n/l),d=[],u=t.reedSolomonComputeDivisor(i);for(let s=0,a=0;s<l;s++){let r=e.slice(a,a+c-i+(s<o?0:1));a+=r.length;let l=t.reedSolomonComputeRemainder(r,u);s<o&&r.push(0),d.push(r.concat(l))}let h=[];for(let e=0;e<d[0].length;e++)d.forEach((t,s)=>{(e!=c-i||s>=o)&&h.push(t[e])});return r(h.length==n),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let s=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let l=0;l<2;l++){let i=t-l,n=(t+1&2)==0?this.size-1-r:r;!this.isFunction[n][i]&&s<8*e.length&&(this.modules[n][i]=a(e[s>>>3],7-(7&s)),s++)}}r(s==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let s=0;s<this.size;s++){let a;switch(e){case 0:a=(s+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=s%3==0;break;case 3:a=(s+t)%3==0;break;case 4:a=(Math.floor(s/3)+Math.floor(t/2))%2==0;break;case 5:a=s*t%2+s*t%3==0;break;case 6:a=(s*t%2+s*t%3)%2==0;break;case 7:a=((s+t)%2+s*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][s]&&a&&(this.modules[t][s]=!this.modules[t][s])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let a=!1,r=0,l=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[s][i]==a?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,l),a||(e+=this.finderPenaltyCountPatterns(l)*t.PENALTY_N3),a=this.modules[s][i],r=1);e+=this.finderPenaltyTerminateAndCount(a,r,l)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let a=!1,r=0,l=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][s]==a?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,l),a||(e+=this.finderPenaltyCountPatterns(l)*t.PENALTY_N3),a=this.modules[i][s],r=1);e+=this.finderPenaltyTerminateAndCount(a,r,l)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let a=0;a<this.size-1;a++){let r=this.modules[s][a];r==this.modules[s][a+1]&&r==this.modules[s+1][a]&&r==this.modules[s+1][a+1]&&(e+=t.PENALTY_N2)}let s=0;for(let e of this.modules)s=e.reduce((e,t)=>e+ +!!t,s);let a=this.size*this.size,l=Math.ceil(Math.abs(20*s-10*a)/a)-1;return r(0<=l&&l<=9),r(0<=(e+=l*t.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),s=[6];for(let a=this.size-7;s.length<e;a-=t)s.splice(1,0,a);return s}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let s=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;s-=(25*t-10)*t-55,e>=7&&(s-=36)}return r(208<=s&&s<=29648),s}static getNumDataCodewords(e,s){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[s.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let s=[];for(let t=0;t<e-1;t++)s.push(0);s.push(1);let a=1;for(let r=0;r<e;r++){for(let e=0;e<s.length;e++)s[e]=t.reedSolomonMultiply(s[e],a),e+1<s.length&&(s[e]^=s[e+1]);a=t.reedSolomonMultiply(a,2)}return s}static reedSolomonComputeRemainder(e,s){let a=s.map(e=>0);for(let r of e){let e=r^a.shift();a.push(0),s.forEach((s,r)=>a[r]^=t.reedSolomonMultiply(s,e))}return a}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let s=0;for(let a=7;a>=0;a--)s=s<<1^(s>>>7)*285^(t>>>a&1)*e;return r(s>>>8==0),s}finderPenaltyCountPatterns(e){let t=e[1];r(t<=3*this.size);let s=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(s&&e[0]>=4*t&&e[6]>=t?1:0)+(s&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,s){return e&&(this.finderPenaltyAddHistory(t,s),t=0),t+=this.size,this.finderPenaltyAddHistory(t,s),this.finderPenaltyCountPatterns(s)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function s(e,t,s){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let a=t-1;a>=0;a--)s.push(e>>>a&1)}function a(e,t){return(e>>>t&1)!=0}function r(e){if(!e)throw Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;let l=class e{constructor(e,t,s){if(this.mode=e,this.numChars=t,this.bitData=s,t<0)throw RangeError("Invalid argument");this.bitData=s.slice()}static makeBytes(t){let a=[];for(let e of t)s(e,8,a);return new e(e.Mode.BYTE,t.length,a)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError("String contains non-numeric characters");let a=[];for(let e=0;e<t.length;){let r=Math.min(t.length-e,3);s(parseInt(t.substring(e,e+r),10),3*r+1,a),e+=r}return new e(e.Mode.NUMERIC,t.length,a)}static makeAlphanumeric(t){let a;if(!e.isAlphanumeric(t))throw RangeError("String contains unencodable characters in alphanumeric mode");let r=[];for(a=0;a+2<=t.length;a+=2){let l=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a));s(l+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a+1)),11,r)}return a<t.length&&s(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a)),6,r),new e(e.Mode.ALPHANUMERIC,t.length,r)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let a=[];if(t<0)throw RangeError("ECI assignment value out of range");if(t<128)s(t,8,a);else if(t<16384)s(2,2,a),s(t,14,a);else if(t<1e6)s(6,3,a),s(t,21,a);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,a)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let s=0;for(let a of e){let e=a.mode.numCharCountBits(t);if(a.numChars>=1<<e)return 1/0;s+=4+e+a.bitData.length}return s}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let s=0;s<e.length;s++)"%"!=e.charAt(s)?t.push(e.charCodeAt(s)):(t.push(parseInt(e.substring(s+1,s+3),16)),s+=2);return t}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=l;e.QrSegment=l})(n||(n={})),r=(a=n||(n={})).QrCode||(a.QrCode={}),(t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}}).LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),r.Ecc=t,i=(l=n||(n={})).QrSegment||(l.QrSegment={}),(s=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s;var g=n,p={L:g.QrCode.Ecc.LOW,M:g.QrCode.Ecc.MEDIUM,Q:g.QrCode.Ecc.QUARTILE,H:g.QrCode.Ecc.HIGH},y="#FFFFFF",N="#000000";function j(e,t=0){let s=[];return e.forEach(function(e,a){let r=null;e.forEach(function(l,i){if(!l&&null!==r){s.push(`M${r+t} ${a+t}h${i-r}v1H${r+t}z`),r=null;return}if(i===e.length-1){if(!l)return;null===r?s.push(`M${i+t},${a+t} h1v1H${i+t}z`):s.push(`M${r+t},${a+t} h${i+1-r}v1H${r+t}z`);return}l&&null===r&&(r=i)})}),s.join("")}function v(e,t){return e.slice().map((e,s)=>s<t.y||s>=t.y+t.h?e:e.map((e,s)=>(s<t.x||s>=t.x+t.w)&&e))}function b({value:e,level:t,minVersion:s,includeMargin:a,marginSize:r,imageSettings:l,size:i,boostLevel:n}){let c=o.default.useMemo(()=>{let a=(Array.isArray(e)?e:[e]).reduce((e,t)=>(e.push(...g.QrSegment.makeSegments(t)),e),[]);return g.QrCode.encodeSegments(a,p[t],s,void 0,void 0,n)},[e,t,s,n]),{cells:d,margin:u,numCells:h,calculatedImageSettings:m}=o.default.useMemo(()=>{let e=c.getModules(),t=null!=r?Math.max(Math.floor(r),0):4*!!a,s=e.length+2*t,n=function(e,t,s,a){if(null==a)return null;let r=e.length+2*s,l=Math.floor(.1*t),i=r/t,n=(a.width||l)*i,o=(a.height||l)*i,c=null==a.x?e.length/2-n/2:a.x*i,d=null==a.y?e.length/2-o/2:a.y*i,u=null==a.opacity?1:a.opacity,h=null;if(a.excavate){let e=Math.floor(c),t=Math.floor(d),s=Math.ceil(n+c-e),a=Math.ceil(o+d-t);h={x:e,y:t,w:s,h:a}}return{x:c,y:d,h:o,w:n,excavation:h,opacity:u,crossOrigin:a.crossOrigin}}(e,i,t,l);return{cells:e,margin:t,numCells:s,calculatedImageSettings:n}},[c,i,l,a,r]);return{qrcode:c,margin:u,cells:d,numCells:h,calculatedImageSettings:m}}var w=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();o.default.forwardRef(function(e,t){let{value:s,size:a=128,level:r="L",bgColor:l=y,fgColor:i=N,includeMargin:n=!1,minVersion:c=1,boostLevel:d,marginSize:u,imageSettings:h}=e,m=f(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=m,p=f(m,["style"]),C=null==h?void 0:h.src,M=o.default.useRef(null),k=o.default.useRef(null),E=o.default.useCallback(e=>{M.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),[R,S]=o.default.useState(!1),{margin:P,cells:I,numCells:A,calculatedImageSettings:z}=b({value:s,level:r,minVersion:c,boostLevel:d,includeMargin:n,marginSize:u,imageSettings:h,size:a});o.default.useEffect(()=>{if(null!=M.current){let e=M.current,t=e.getContext("2d");if(!t)return;let s=I,r=k.current,n=null!=z&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;n&&null!=z.excavation&&(s=v(I,z.excavation));let o=window.devicePixelRatio||1;e.height=e.width=a*o;let c=a/A*o;t.scale(c,c),t.fillStyle=l,t.fillRect(0,0,A,A),t.fillStyle=i,w?t.fill(new Path2D(j(s,P))):I.forEach(function(e,s){e.forEach(function(e,a){e&&t.fillRect(a+P,s+P,1,1)})}),z&&(t.globalAlpha=z.opacity),n&&t.drawImage(r,z.x+P,z.y+P,z.w,z.h)}}),o.default.useEffect(()=>{S(!1)},[C]);let T=x({height:a,width:a},g),O=null;return null!=C&&(O=o.default.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{S(!0)},ref:k,crossOrigin:null==z?void 0:z.crossOrigin})),o.default.createElement(o.default.Fragment,null,o.default.createElement("canvas",x({style:T,height:a,width:a,ref:E,role:"img"},p)),O)}).displayName="QRCodeCanvas";var C=o.default.forwardRef(function(e,t){let{value:s,size:a=128,level:r="L",bgColor:l=y,fgColor:i=N,includeMargin:n=!1,minVersion:c=1,boostLevel:d,title:u,marginSize:h,imageSettings:m}=e,g=f(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:w,numCells:C,calculatedImageSettings:M}=b({value:s,level:r,minVersion:c,boostLevel:d,includeMargin:n,marginSize:h,imageSettings:m,size:a}),k=w,E=null;null!=m&&null!=M&&(null!=M.excavation&&(k=v(w,M.excavation)),E=o.default.createElement("image",{href:m.src,height:M.h,width:M.w,x:M.x+p,y:M.y+p,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));let R=j(k,p);return o.default.createElement("svg",x({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:t,role:"img"},g),!!u&&o.default.createElement("title",null,u),o.default.createElement("path",{fill:l,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),o.default.createElement("path",{fill:i,d:R,shapeRendering:"crispEdges"}),E)});C.displayName="QRCodeSVG",e.s(["QRCodeSVG",()=>C])},58524,e=>{"use strict";let t=(0,e.i(75254).default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);e.s(["Link2",()=>t],58524)},31782,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(43531);let r=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=e.i(7233),i=e.i(20312);function n({optionName:e,price:s,popupContent:n,selected:o,onSelect:c,onDetail:d}){let{image:u}=n?(0,i.parsePopupContent)(n):{image:null};return(0,t.jsxs)("div",{className:`flex-shrink-0 w-[140px] rounded-xl border-2 overflow-hidden transition-all ${o?"border-blue-500 bg-blue-50 shadow-md shadow-blue-100":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:[(0,t.jsxs)("div",{className:"relative h-24 bg-gray-100 flex items-center justify-center overflow-hidden cursor-pointer",onClick:d||c,children:[u?(0,t.jsx)("img",{src:u,alt:e,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"text-gray-300 text-xs",children:"No Image"}),o&&(0,t.jsx)("div",{className:"absolute top-1.5 right-1.5 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(a.Check,{className:"w-3 h-3 text-white"})}),n&&d&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"absolute top-1.5 left-1.5 w-6 h-6 bg-white/80 backdrop-blur rounded-full flex items-center justify-center hover:bg-white",children:(0,t.jsx)(r,{className:"w-3.5 h-3.5 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"p-2.5",children:[(0,t.jsx)("p",{className:`text-xs font-medium line-clamp-2 leading-tight ${o?"text-blue-700":"text-gray-800"}`,children:e}),void 0!==s&&(0,t.jsx)("p",{className:`text-xs mt-1 font-semibold ${o?"text-blue-600":"text-gray-600"}`,children:(0,i.formatPrice)(s)}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),c?.()},className:`w-full mt-2 py-1.5 rounded-lg text-xs font-semibold transition-colors ${o?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-blue-50 hover:text-blue-600"}`,children:o?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(a.Check,{className:"w-3 h-3"})," 선택됨"]}):(0,t.jsxs)("span",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(l.Plus,{className:"w-3 h-3"})," 추가하기"]})})]})]})}var o=e.i(37727),c=e.i(59544);function d({isOpen:e,onClose:s,optionName:r,popupContent:n,price:d,selected:u,onSelect:h}){if(!e)return null;let{text:m,image:x}=(0,i.parsePopupContent)(n);return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:s,children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-t-2xl max-h-[85vh] overflow-y-auto animate-slide-up",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"flex justify-center pt-3 pb-1",children:(0,t.jsx)("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),x&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:x,alt:r,className:"w-full max-h-64 object-cover"}),(0,t.jsx)("button",{onClick:s,className:"absolute top-3 right-3 w-8 h-8 bg-black/40 backdrop-blur rounded-full flex items-center justify-center",children:(0,t.jsx)(o.X,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[!x&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:r}),(0,t.jsx)("button",{onClick:s,className:"p-1.5 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(o.X,{className:"w-5 h-5 text-gray-400"})})]}),x&&(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:r}),void 0!==d&&(0,t.jsx)("p",{className:"text-xl font-bold text-blue-600",children:(0,i.formatPrice)(d)}),m&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-gray-500 mb-1.5",children:"시공범위"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:m})]}),h&&(0,t.jsx)(c.default,{fullWidth:!0,size:"lg",variant:u?"outline":"primary",onClick:()=>{h(),s()},children:u?(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a.Check,{className:"w-5 h-5"})," 선택 해제"]}):(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(l.Plus,{className:"w-5 h-5"})," 추가하기"]})})]})]})})}function u({partners:e,selectedRows:a,onToggleRow:l,selectedTypeId:i}){let[o,c]=(0,s.useState)(null),u=(e,t)=>a.some(s=>s.sheetId===e&&s.rowId===t),h=[];return e.forEach(e=>{e.categories.forEach(t=>{h.push({id:t.sheetId,name:t.categoryName,partnerName:e.partnerName,partnerId:e.partnerId,options:t.options,columns:t.columns})})}),(0,t.jsxs)("div",{className:"space-y-6",children:[h.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h4",{className:"text-base font-bold text-gray-800",children:e.name}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(r,{className:"w-4 h-4"})})]}),e.options.length>0?(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-hide",children:e.options.map(s=>{let a=((e,t)=>{if(!i)return;let s=t.find(e=>e.apartmentTypeId===i);if(s){let t=e.cellValues?.[s.id];if(void 0!==t&&""!==t&&"0"!==t){let e=Number(String(t).replace(/,/g,""));if(e>0)return e}let a=e.prices?.[s.id];if(a&&a>0)return a}for(let s of t)if("amount"===s.columnType||!s.columnType){let t=e.prices?.[s.id];if(t&&t>0)return t;let a=e.cellValues?.[s.id];if(a){let e=Number(String(a).replace(/,/g,""));if(e>0)return e}}})(s,e.columns),r=u(e.id,s.rowId);return(0,t.jsx)(n,{optionName:s.optionName,price:a,popupContent:s.popupContent,selected:r,onSelect:()=>l(e.id,s.rowId,s.optionName,e.name,e.partnerName),onDetail:s.popupContent?()=>c({optionName:s.optionName,popupContent:s.popupContent,price:a,sheetId:e.id,rowId:s.rowId,categoryName:e.name,partnerName:e.partnerName}):void 0},s.rowId)})}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm",children:"등록된 옵션이 없습니다."})]},e.id)),0===h.length&&(0,t.jsx)("div",{className:"text-center py-12 text-gray-400 text-sm",children:"등록된 품목이 없습니다."}),o&&(0,t.jsx)(d,{isOpen:!0,onClose:()=>c(null),optionName:o.optionName,popupContent:o.popupContent,price:o.price,selected:u(o.sheetId,o.rowId),onSelect:()=>{l(o.sheetId,o.rowId,o.optionName,o.categoryName,o.partnerName)}})]})}e.s(["default",()=>u],31782)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},20312,e=>{"use strict";function t(e){let t="\n---IMAGE---\n",s=e.indexOf(t);return -1===s?{text:e,image:null}:{text:e.slice(0,s),image:e.slice(s+t.length)}}function s(e){if(null==e||""===e)return"-";let t="number"==typeof e?e:Number(String(e).replace(/,/g,""));return!t||isNaN(t)?"-":`${t.toLocaleString("ko-KR")}원`}e.s(["formatPrice",()=>s,"parsePopupContent",()=>t])},54508,31278,e=>{"use strict";var t=e.i(43476),s=e.i(88699),a=e.i(27612),r=e.i(20312);function l({optionName:e,popupContent:l,apartmentTypeId:i,price:n,prices:o,cellValues:c,columns:d,apartmentTypes:u,onEdit:h,onDelete:m}){let{image:x}=l?(0,r.parsePopupContent)(l):{image:null},f=(i?i.split(",").filter(Boolean):[]).map(e=>u.find(t=>t.id===e)?.name).filter(Boolean);return(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex",children:[x&&(0,t.jsx)("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-100",children:(0,t.jsx)("img",{src:x,alt:e,className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"flex-1 p-3 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-800 truncate",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mt-1 flex-wrap",children:[f.map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full font-medium",children:e},s)),null!=n&&n>0&&(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-700",children:(0,r.formatPrice)(n)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,t.jsx)("button",{onClick:h,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(s.Pencil,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:m,className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500",children:(0,t.jsx)(a.Trash2,{className:"w-3.5 h-3.5"})})]})]})})]})})}e.s(["default",()=>l],54508);let i=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>i],31278)},52481,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9165),r=e.i(39964),l=e.i(59544),i=e.i(96640),n=e.i(32098),o=e.i(22706),c=e.i(88840),d=e.i(7233),u=e.i(27612),h=e.i(63209);function m({stages:e,onChange:s,disabled:a}){let r=e.reduce((e,t)=>e+t.ratio,0),i=.01>Math.abs(r-100);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"결제 단계"}),!a&&(0,t.jsxs)(l.default,{variant:"ghost",size:"sm",onClick:()=>{let t=100-r;s([...e,{name:"",ratio:t>0?t:0}])},children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-1"}),"단계 추가"]})]}),0===e.length?(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"일시불 (단계 미설정)"}):(0,t.jsx)("div",{className:"space-y-2",children:e.map((r,l)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:r.name,onChange:t=>{var a;let r;return a=t.target.value,void((r=[...e])[l]={...r[l],name:a},s(r))},placeholder:`${l+1}차`,disabled:a,className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("input",{type:"number",value:r.ratio,onChange:t=>{var a;let r;return a=t.target.value,void((r=[...e])[l]={...r[l],ratio:Number(a)||0},s(r))},min:0,max:100,disabled:a,className:"w-20 px-3 py-2 border border-gray-200 rounded-lg text-sm text-right focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),!a&&(0,t.jsx)("button",{onClick:()=>{s(e.filter((e,t)=>t!==l))},className:"p-1.5 rounded-lg hover:bg-error-light text-gray-400 hover:text-error transition-colors",children:(0,t.jsx)(u.Trash2,{className:"w-4 h-4"})})]},l))}),e.length>0&&(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm ${i?"text-success":"text-error"}`,children:[!i&&(0,t.jsx)(h.AlertCircle,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["합계: ",r,"% ",!i&&"(100%가 되어야 합니다)"]})]})]})}var x=e.i(31782),f=e.i(54508),g=e.i(56909),p=e.i(64659),y=e.i(55900),N=e.i(74886),j=e.i(43531),v=e.i(58524),b=e.i(7486),w=e.i(94918),C=e.i(86536),M=e.i(75254);let k=(0,M.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var E=e.i(88699);let R=(0,M.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var S=e.i(31278),P=e.i(23962),I=e.i(28835);function A({eventId:e,backHref:h}){let M,A,{toast:z}=(0,c.useToast)(),[T,O]=(0,s.useState)(null),[$,_]=(0,s.useState)(null),[F,L]=(0,s.useState)(!0),[D,B]=(0,s.useState)(!1),[H,U]=(0,s.useState)([]),[V,Q]=(0,s.useState)(""),[K,Y]=(0,s.useState)(""),[G,X]=(0,s.useState)([]),[W,q]=(0,s.useState)(""),[J,Z]=(0,s.useState)(null),[ee,et]=(0,s.useState)([]),[es,ea]=(0,s.useState)([]),[er,el]=(0,s.useState)(null),[ei,en]=(0,s.useState)(null),[eo,ec]=(0,s.useState)(!1),[ed,eu]=(0,s.useState)(""),[eh,em]=(0,s.useState)(!1),[ex,ef]=(0,s.useState)(!1),[eg,ep]=(0,s.useState)(!1),[ey,eN]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)(!1),[eb,ew]=(0,s.useState)({types:!0,stages:!0,terms:!1,sheets:!0}),eC=e=>{ew(t=>({...t,[e]:!t[e]}))},eM=(0,s.useCallback)(async()=>{try{let[t,s]=await Promise.all([a.default.get(`/ic/configs/event/${e}`).catch(()=>null),a.default.get(`/events/${e}`).catch(()=>null)]),r=s?.data?.data;_(r);let l=await a.default.get(`/events/${e}/participants`).catch(()=>null);et(l?.data?.data||[]);let i=t?.data?.data;if(i){O(i),U(i.paymentStages||[]),Q(i.legalTerms||""),Y(i.specialNotes||""),X(i.apartmentTypes||[]);let e=await a.default.get(`/ic/configs/${i.id}/sheets`).catch(()=>null);ea(e?.data?.data||[])}}catch{z("데이터를 불러올 수 없습니다.","error")}finally{L(!1)}},[e,z]);(0,s.useEffect)(()=>{eM()},[eM]);let ek=async()=>{try{let t=`1. 계약일 기준 14일 이후에는 취소가 불가능합니다.
2. 본 계약은 해당 옵션 공사에 대한 계약이며, 별도 계약 품목은 보장하지 않습니다.
3. 공사 일정은 입주 일정에 따라 변경될 수 있습니다.
4. 계약 후 옵션 변경은 공사 착수 전까지만 가능합니다.`,s=(await a.default.post("/ic/configs",{eventId:e,paymentStages:[{name:"계약금",ratio:20},{name:"중도금",ratio:40},{name:"잔금",ratio:40}],legalTerms:t})).data.data;O(s),U(s.paymentStages||[]),Q(s.legalTerms||""),Y(s.specialNotes||""),X(s.apartmentTypes||[]),z("통합 계약 설정이 생성되었습니다.","success")}catch{z("설정 생성에 실패했습니다.","error")}},eE=async()=>{if(T){B(!0);try{let e=await a.default.patch(`/ic/configs/${T.id}`,{paymentStages:H,legalTerms:V,specialNotes:K});O(e.data.data),z("설정이 저장되었습니다.","success")}catch{z("저장에 실패했습니다.","error")}finally{B(!1)}}},eR=async e=>{if(T)try{let t=await a.default.patch(`/ic/configs/${T.id}`,{status:e});O(t.data.data),z(`상태가 "${e}"로 변경되었습니다.`,"success")}catch{z("상태 변경에 실패했습니다.","error")}},eS=async()=>{if(T){ep(!0);try{await a.default.delete(`/ic/configs/${T.id}`),O(null),ef(!1),z("통합 계약 설정이 삭제되었습니다.","success")}catch{z("설정 삭제에 실패했습니다.","error")}finally{ep(!1)}}},eP=async()=>{if(T&&W.trim())try{let e=await a.default.post(`/ic/configs/${T.id}/apartment-types`,{name:W.trim(),sortOrder:G.length});X(t=>[...t,e.data.data]),q(""),z("타입이 추가되었습니다.","success")}catch{z("타입 추가에 실패했습니다.","error")}},eI=async()=>{if(T&&J)try{await a.default.patch(`/ic/configs/${T.id}/apartment-types/${J.id}`,{name:J.name}),X(e=>e.map(e=>e.id===J.id?{...e,name:J.name}:e)),Z(null),z("타입이 수정되었습니다.","success")}catch{z("타입 수정에 실패했습니다.","error")}},eA=async e=>{if(T)try{await a.default.delete(`/ic/configs/${T.id}/apartment-types/${e}`),X(t=>t.filter(t=>t.id!==e)),z("타입이 삭제되었습니다.","success")}catch{z("타입 삭제에 실패했습니다.","error")}},ez=async()=>{if(T&&ed.trim()){em(!0);try{let e=await a.default.post("/ic/sheets",{configId:T.id,categoryName:ed.trim()});ea(t=>[...t,e.data.data]),eu(""),ec(!1),z("시트가 생성되었습니다.","success")}catch{z("시트 생성에 실패했습니다.","error")}finally{em(!1)}}},eT=async(e,t)=>{if(T)try{await a.default.patch(`/ic/configs/${T.id}/sheets/${e}`,{status:t}),ea(s=>s.map(s=>s.id===e?{...s,status:t}:s)),z("시트 상태가 변경되었습니다.","success")}catch{z("상태 변경에 실패했습니다.","error")}},eO=async()=>{if(ei&&T)try{await a.default.patch(`/ic/configs/${T.id}/sheets/${ei.id}`,{status:"inactive"}),ea(e=>e.filter(e=>e.id!==ei.id)),en(null),er===ei.id&&el(null),z("시트가 삭제되었습니다.","success")}catch{z("시트 삭제에 실패했습니다.","error")}},[e$,e_]=(0,s.useState)(!1),eF=async()=>{if(T&&0!==es.length){e_(!0);try{await Promise.all(es.map(e=>a.default.patch(`/ic/configs/${T.id}/sheets/${e.id}/commission`,{commissionRate:e.commissionRate||0}))),z("모든 수수료율이 저장되었습니다.","success")}catch{z("수수료율 저장에 실패했습니다.","error")}finally{e_(!1)}}},eL=$?.inviteCode?`${window.location.origin}/events/${$.inviteCode}/options`:"";return F?(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{title:"통합 계약 설정",backHref:h}),(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"animate-pulse h-24 bg-white rounded-xl"},e))})]}):T?(0,t.jsxs)("div",{className:"overflow-x-hidden",children:[D&&(0,t.jsx)("div",{className:"fixed inset-0 z-[200] bg-black/40 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl px-8 py-6 shadow-2xl flex items-center gap-4",children:[(0,t.jsx)(S.Loader2,{className:"w-6 h-6 text-blue-600 animate-spin"}),(0,t.jsx)("span",{className:"text-base font-medium text-gray-800",children:"저장 중..."})]})}),(0,t.jsx)(o.default,{title:"통합 계약 설정",backHref:h,actions:(0,t.jsxs)("div",{className:"flex items-center gap-1.5 flex-wrap",children:[(0,t.jsx)(i.default,{status:T.status}),({draft:[{label:"활성화",next:"active",variant:"primary"}],active:[{label:"마감",next:"closed",variant:"danger"}],closed:[{label:"다시 활성화",next:"active",variant:"outline"}]})[T.status]?.map(e=>(0,t.jsx)(l.default,{size:"sm",variant:e.variant,onClick:()=>eR(e.next),children:e.label},e.next)),(0,t.jsx)(l.default,{size:"sm",variant:"danger",onClick:()=>ef(!0),children:(0,t.jsx)(u.Trash2,{className:"w-3.5 h-3.5"})})]})}),eL&&(0,t.jsxs)(r.default,{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(v.Link2,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"고객 옵션 선택 링크"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 font-mono bg-gray-50 px-2 py-1.5 rounded-lg truncate mb-2 break-all",children:eL}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(l.default,{size:"sm",variant:"outline",onClick:()=>{eL&&(navigator.clipboard.writeText(eL),ev(!0),z("링크가 복사되었습니다.","success"),setTimeout(()=>ev(!1),2e3))},children:ej?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Check,{className:"w-3.5 h-3.5 mr-1"})," 복사됨"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Copy,{className:"w-3.5 h-3.5 mr-1"})," 복사"]})}),(0,t.jsx)("a",{href:eL,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsxs)(l.default,{size:"sm",variant:"outline",children:[(0,t.jsx)(R,{className:"w-3.5 h-3.5 mr-1"})," 열기"]})}),(0,t.jsxs)(l.default,{size:"sm",variant:"outline",onClick:()=>eN(!0),children:[(0,t.jsx)(C.Eye,{className:"w-3.5 h-3.5 mr-1"}),"미리보기"]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-2 flex items-center gap-1",children:[(0,t.jsx)(P.QrCode,{className:"w-3.5 h-3.5"})," 고객 옵션 선택 QR코드"]}),(0,t.jsx)("div",{className:"flex justify-center bg-gray-50 rounded-lg p-3",children:(0,t.jsx)(I.QRCodeSVG,{value:eL,size:160,level:"H",includeMargin:!0,fgColor:"#1B3460"})})]})]}),(0,t.jsxs)(r.default,{className:"mb-4",children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>eC("types"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Building2,{className:"w-5 h-5 text-indigo-500"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"타입"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:[G.length,"개"]})]}),eb.types?(0,t.jsx)(y.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(p.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),eb.types&&(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[0===G.length?(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"등록된 타입이 없습니다."}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:G.map((e,s)=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:J?.id===e.id?(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("input",{type:"text",value:J.name,onChange:e=>Z({...J,name:e.target.value}),className:"flex-1 px-2 py-1 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&eI()}),(0,t.jsx)(l.default,{size:"sm",onClick:eI,children:"저장"}),(0,t.jsx)(l.default,{size:"sm",variant:"outline",onClick:()=>Z(null),children:"취소"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold",children:s+1}),(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),e.floorPlanFileId&&(0,t.jsx)("span",{className:"text-[10px] bg-success-light text-success px-1.5 py-0.5 rounded-full",children:"평면도"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>Z({id:e.id,name:e.name}),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(E.Pencil,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>eA(e.id),className:"p-1.5 rounded-lg hover:bg-error-light text-gray-400 hover:text-error",children:(0,t.jsx)(u.Trash2,{className:"w-3.5 h-3.5"})})]})]})},e.id))}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:W,onChange:e=>q(e.target.value),placeholder:"예: 59A, 84B, 펜트하우스",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&eP()}),(0,t.jsxs)(l.default,{size:"sm",onClick:eP,disabled:!W.trim(),children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-1"}),"추가"]})]})]})]}),(0,t.jsxs)(r.default,{className:"mb-4",children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>eC("stages"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.FileSpreadsheet,{className:"w-5 h-5 text-success"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"결제 단계"}),(0,t.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:0===H.length?"일시불":`${H.length}단계`})]}),eb.stages?(0,t.jsx)(y.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(p.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),eb.stages&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(m,{stages:H,onChange:U})})]}),(0,t.jsxs)(r.default,{className:"mb-4",children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>eC("terms"),children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"약관 · 특약사항"}),eb.terms?(0,t.jsx)(y.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(p.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),eb.terms&&(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1.5",children:"약관"}),(0,t.jsx)("textarea",{value:V,onChange:e=>Q(e.target.value),rows:5,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"고객이 계약 시 동의할 약관 내용을 입력하세요."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1.5",children:"특약사항"}),(0,t.jsx)("textarea",{value:K,onChange:e=>Y(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"추가 특약사항이 있으면 입력하세요."})]})]})]}),(0,t.jsxs)(l.default,{fullWidth:!0,size:"lg",onClick:eE,loading:D,className:"mb-6",children:[(0,t.jsx)(g.Save,{className:"w-5 h-5 mr-2"}),"설정 저장"]}),es.length>0&&(0,t.jsxs)(r.default,{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(w.FileSpreadsheet,{className:"w-5 h-5 text-amber-500"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"품목 설정하기"})]}),0===es.flatMap(e=>e.rows||[]).length?(0,t.jsx)("p",{className:"text-sm text-gray-400 text-center py-4",children:"등록된 품목이 없습니다."}):(0,t.jsx)("div",{className:"space-y-4",children:es.filter(e=>(e.rows||[]).length>0).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2 mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Building2,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-bold text-gray-800",children:e.partner?.name||"업체"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.categoryName,")"]})]}),(0,t.jsx)("button",{onClick:()=>el(er===e.id?null:e.id),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"상세보기"})]}),(0,t.jsx)("div",{className:"border-b border-gray-200 pb-1.5 mb-1 px-1",children:(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_60px_90px] gap-2 text-[11px] font-semibold text-gray-500",children:[(0,t.jsx)("span",{children:"품목"}),(0,t.jsx)("span",{className:"text-center",children:"계약건"}),(0,t.jsx)("span",{className:"text-right",children:"계약금액"})]})}),(e.rows||[]).map(s=>(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_60px_90px] gap-2 items-center py-2 border-b border-gray-50 px-1 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-800 truncate",children:s.optionName}),(0,t.jsx)("span",{className:"text-gray-500 text-xs text-center",children:"0건"}),(0,t.jsx)("span",{className:"text-gray-700 text-xs text-right font-medium",children:s.price?`${Number(s.price).toLocaleString("ko-KR")}원`:"—"})]},`${e.id}-${s.id}`))]},e.id))})]}),(0,t.jsxs)(r.default,{children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>eC("sheets"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.FileSpreadsheet,{className:"w-5 h-5 text-amber-500"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"협력업체 시트"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:[es.length,"개"]})]}),eb.sheets?(0,t.jsx)(y.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,t.jsx)(p.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),eb.sheets&&(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[(M=new Set(es.map(e=>e.partner?.id).filter(Boolean)),0===(A=ee.filter(e=>"approved"===e.status&&e.organization?.type==="partner").filter(e=>!M.has(e.organizationId))).length?null:(0,t.jsxs)("div",{className:"bg-warning-light border border-amber-200 rounded-xl p-3",children:[(0,t.jsxs)("p",{className:"text-xs font-semibold text-warning mb-1",children:["시트 미제출 업체 (",A.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:A.map(e=>(0,t.jsx)("span",{className:"text-xs bg-yellow-100 text-warning px-2 py-0.5 rounded-full",children:e.organization?.name||"업체"},e.id))})]})),eo?(0,t.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-xl p-4 bg-blue-50/30",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"새 시트 만들기"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:ed,onChange:e=>eu(e.target.value),placeholder:"카테고리명 (예: 마감재, 가전, 가구)",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&ez(),autoFocus:!0}),(0,t.jsxs)(l.default,{size:"sm",onClick:ez,disabled:!ed.trim(),loading:eh,children:[(0,t.jsx)(j.Check,{className:"w-4 h-4 mr-1"}),"생성"]}),(0,t.jsx)(l.default,{size:"sm",variant:"outline",onClick:()=>{ec(!1),eu("")},children:"취소"})]})]}):(0,t.jsxs)("button",{onClick:()=>ec(!0),className:"w-full border-2 border-dashed border-gray-200 rounded-xl p-4 text-sm text-gray-500 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50/30 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4"}),"새 시트 추가"]}),0!==es.length||eo?es.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between bg-gray-50/50",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.categoryName}),(0,t.jsx)(i.default,{status:e.status})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.partner?.name||"업체"," · 열 ",e.columns?.length||0,"개 · 행 ",e.rows?.length||0,"개"]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["draft"===e.status&&(0,t.jsxs)(l.default,{size:"sm",variant:"outline",onClick:()=>eT(e.id,"active"),children:[(0,t.jsx)(C.Eye,{className:"w-3.5 h-3.5 mr-1"})," 활성화"]}),"active"===e.status&&(0,t.jsxs)(l.default,{size:"sm",variant:"outline",onClick:()=>eT(e.id,"inactive"),children:[(0,t.jsx)(k,{className:"w-3.5 h-3.5 mr-1"})," 비활성"]}),"inactive"===e.status&&(0,t.jsxs)(l.default,{size:"sm",variant:"outline",onClick:()=>eT(e.id,"active"),children:[(0,t.jsx)(C.Eye,{className:"w-3.5 h-3.5 mr-1"})," 재활성"]}),(0,t.jsx)("button",{onClick:()=>en(e),className:"p-2 rounded-lg hover:bg-error-light text-gray-400 hover:text-error",title:"시트 삭제",children:(0,t.jsx)(u.Trash2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>el(er===e.id?null:e.id),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:er===e.id?(0,t.jsx)(y.ChevronUp,{className:"w-4 h-4"}):(0,t.jsx)(p.ChevronDown,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"px-4 py-2 border-t border-gray-200 bg-white flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"수수료율"}),(0,t.jsx)("input",{type:"text",inputMode:"numeric",value:e.commissionRate?String(e.commissionRate):"",onChange:t=>{let s=t.target.value.replace(/[^0-9.]/g,""),a=parseFloat(s=s.replace(/^0+(\d)/,"$1"));ea(t=>t.map(t=>t.id===e.id?{...t,commissionRate:isNaN(a)?0:Math.min(a,100)}:t))},placeholder:"0",className:"w-20 px-2 py-1 border border-gray-200 rounded-lg text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"%"})]}),er===e.id&&(0,t.jsxs)("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[0===(e.rows||[]).length?(0,t.jsx)("p",{className:"text-sm text-gray-400 text-center py-4",children:"등록된 품목이 없습니다."}):(e.rows||[]).map(s=>(0,t.jsx)(f.default,{optionName:s.optionName,popupContent:s.popupContent,prices:s.prices||{},cellValues:s.cellValues,columns:(e.columns||[]).map(e=>({id:e.id,customName:e.customName||e.apartmentType?.name,columnType:e.columnType||"amount",apartmentTypeId:e.apartmentTypeId})),apartmentTypes:G,onEdit:()=>{},onDelete:()=>{}},s.id)),(0,t.jsxs)("p",{className:"text-xs text-gray-400 text-center pt-2",children:[(e.columns||[]).length,"열 · ",(e.rows||[]).length,"행"]})]})]},e.id)):(0,t.jsx)("p",{className:"text-sm text-gray-400 text-center py-4",children:"등록된 시트가 없습니다."}),es.length>0&&(0,t.jsxs)(l.default,{fullWidth:!0,size:"lg",variant:"outline",onClick:eF,loading:e$,className:"mt-2",children:[(0,t.jsx)(g.Save,{className:"w-4 h-4 mr-2"}),"수수료율 일괄 저장"]})]})]}),(0,t.jsxs)(n.default,{isOpen:!!ei,onClose:()=>en(null),title:"시트 삭제 확인",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[(0,t.jsxs)("strong",{children:["“",ei?.categoryName,"”"]})," 시트를 삭제하시겠습니까? 시트의 모든 데이터가 비활성화됩니다."]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(l.default,{variant:"outline",onClick:()=>en(null),children:"취소"}),(0,t.jsxs)(l.default,{variant:"danger",onClick:eO,children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4 mr-1"}),"삭제"]})]})]}),(0,t.jsx)(n.default,{isOpen:ey,onClose:()=>eN(!1),title:"고객 미리보기",size:"lg",children:(0,t.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:0===es.length?(0,t.jsx)("p",{className:"text-sm text-gray-400 text-center py-8",children:"등록된 시트가 없습니다."}):(0,t.jsx)(x.default,{partners:es.filter(e=>"inactive"!==e.status).reduce((e,t)=>{let s=t.partner?.id||"unknown",a=e.find(e=>e.partnerId===s);return a||(a={partnerId:s,partnerName:t.partner?.name||"업체",categories:[]},e.push(a)),a.categories.push({sheetId:t.id,categoryName:t.categoryName,columns:(t.columns||[]).map(e=>({id:e.id,customName:e.customName||e.apartmentType?.name||"열",columnType:e.columnType||"amount",apartmentTypeId:e.apartmentTypeId})),options:(t.rows||[]).map(e=>({rowId:e.id,optionName:e.optionName,popupContent:e.popupContent,cellValues:e.cellValues||{},prices:e.prices||{}}))}),e},[]),selectedRows:[],onToggleRow:()=>{}})})}),(0,t.jsxs)(n.default,{isOpen:ex,onClose:()=>ef(!1),title:"통합 계약 설정 삭제",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"통합 계약 설정을 삭제하시겠습니까? 모든 아파트 타입, 결제단계, 시트 데이터가 함께 삭제됩니다. 이 작업은 되돌릴 수 없습니다."}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(l.default,{variant:"outline",onClick:()=>ef(!1),children:"취소"}),(0,t.jsxs)(l.default,{variant:"danger",onClick:eS,loading:eg,children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4 mr-1"}),"삭제"]})]})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(o.default,{title:"통합 계약 설정",backHref:h}),(0,t.jsxs)(r.default,{className:"text-center py-12",children:[(0,t.jsx)(w.FileSpreadsheet,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"이 행사에 통합 계약 설정이 없습니다."}),(0,t.jsxs)(l.default,{onClick:ek,children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4 mr-2"}),"통합 계약 설정 생성"]})]})]})}e.s(["default",()=>A],52481)}]);