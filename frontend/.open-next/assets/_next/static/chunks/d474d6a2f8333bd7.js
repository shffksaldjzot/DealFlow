(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let l=(0,t.forwardRef)(({className:e,variant:t="primary",size:l="md",fullWidth:r,loading:i,disabled:n,children:c,...d},o)=>(0,s.jsxs)("button",{ref:o,className:(0,a.cn)("inline-flex items-center justify-center font-semibold transition-all duration-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-400",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-400",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-400 shadow-md"}[t],{sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[l],r&&"w-full",e),disabled:n||i,...d,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]}));l.displayName="Button",e.s(["default",0,l])},39964,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157);let l=(0,t.forwardRef)(({className:e,hoverable:t,padding:l="md",children:r,...i},n)=>(0,s.jsx)("div",{ref:n,className:(0,a.cn)("bg-white rounded-2xl border border-gray-100","shadow-sm",{none:"",sm:"p-4",md:"p-5",lg:"p-6"}[l],t&&"hover:shadow-md hover:border-gray-200 transition-all duration-200 cursor-pointer",e),...i,children:r}));l.displayName="Card",e.s(["default",0,l])},22706,e=>{"use strict";var s=e.i(43476);let t=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var a=e.i(18566);function l({title:e,subtitle:l,backHref:r,actions:i}){let n=(0,a.useRouter)();return(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[r&&(0,s.jsx)("button",{onClick:()=>n.push(r),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:(0,s.jsx)(t,{className:"w-5 h-5 text-gray-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e}),l&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:l})]})]}),i&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:i})]})}e.s(["default",()=>l],22706)},96640,e=>{"use strict";var s=e.i(43476),t=e.i(75157);function a({status:e,className:a}){return(0,s.jsx)("span",{className:(0,t.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(0,t.getStatusColor)(e),a),children:(0,t.getStatusLabel)(e)})}e.s(["default",()=>a])},32098,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75157),l=e.i(37727);function r({isOpen:e,onClose:r,title:i,children:n,size:c="md"}){return((0,t.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),(0,s.jsxs)("div",{className:(0,a.cn)("relative w-full mx-4 bg-white rounded-2xl shadow-xl","animate-in fade-in zoom-in-95 duration-200",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl"}[c]),children:[i&&(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:i}),(0,s.jsx)("button",{onClick:r,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:(0,s.jsx)(l.X,{className:"w-5 h-5 text-gray-400"})})]}),(0,s.jsx)("div",{className:"px-6 py-4",children:n})]})]}):null}e.s(["default",()=>r])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},94918,e=>{"use strict";let s=(0,e.i(75254).default)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);e.s(["FileSpreadsheet",()=>s],94918)},43531,e=>{"use strict";let s=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],43531)},74886,e=>{"use strict";let s=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886)},74875,e=>{"use strict";let s=(0,e.i(75254).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["HelpCircle",()=>s],74875)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},50570,71649,e=>{"use strict";var s=e.i(75254);let t=(0,s.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);e.s(["GripVertical",()=>t],50570);let a=(0,s.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);e.s(["Type",()=>a],71649)},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},58524,e=>{"use strict";let s=(0,e.i(75254).default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);e.s(["Link2",()=>s],58524)},64659,e=>{"use strict";let s=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659)},55900,e=>{"use strict";let s=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>s],55900)},88699,e=>{"use strict";let s=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>s],88699)},25650,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(9165),r=e.i(39964),i=e.i(59544),n=e.i(96640),c=e.i(32098),d=e.i(22706),o=e.i(88840),x=e.i(7233),u=e.i(27612),m=e.i(63209);function h({stages:e,onChange:t,disabled:a}){let l=e.reduce((e,s)=>e+s.ratio,0),r=.01>Math.abs(l-100);return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"결제 단계"}),!a&&(0,s.jsxs)(i.default,{variant:"ghost",size:"sm",onClick:()=>{let s=100-l;t([...e,{name:"",ratio:s>0?s:0}])},children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4 mr-1"}),"단계 추가"]})]}),0===e.length?(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"일시불 (단계 미설정)"}):(0,s.jsx)("div",{className:"space-y-2",children:e.map((l,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:l.name,onChange:s=>{var a;let l;return a=s.target.value,void((l=[...e])[r]={...l[r],name:a},t(l))},placeholder:`${r+1}차`,disabled:a,className:"flex-1 px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("input",{type:"number",value:l.ratio,onChange:s=>{var a;let l;return a=s.target.value,void((l=[...e])[r]={...l[r],ratio:Number(a)||0},t(l))},min:0,max:100,disabled:a,className:"w-20 px-3 py-2 border border-gray-200 rounded-xl text-sm text-right focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),!a&&(0,s.jsx)("button",{onClick:()=>{t(e.filter((e,s)=>s!==r))},className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500 transition-colors",children:(0,s.jsx)(u.Trash2,{className:"w-4 h-4"})})]},r))}),e.length>0&&(0,s.jsxs)("div",{className:`flex items-center gap-2 text-sm ${r?"text-green-600":"text-red-500"}`,children:[!r&&(0,s.jsx)(m.AlertCircle,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["합계: ",l,"% ",!r&&"(100%가 되어야 합니다)"]})]})]})}var g=e.i(5110),y=e.i(56909),f=e.i(64659),p=e.i(55900),j=e.i(74886),v=e.i(43531),b=e.i(58524),N=e.i(7486),w=e.i(94918),k=e.i(86536),C=e.i(75254);let z=(0,C.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var M=e.i(88699);let S=(0,C.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var $=e.i(31278);function T(){let{id:e}=(0,a.useParams)(),{toast:m}=(0,o.useToast)(),[C,T]=(0,t.useState)(null),[P,H]=(0,t.useState)(null),[V,D]=(0,t.useState)(!0),[F,E]=(0,t.useState)(!1),[U,A]=(0,t.useState)([]),[R,q]=(0,t.useState)(""),[B,K]=(0,t.useState)(""),[L,O]=(0,t.useState)([]),[I,W]=(0,t.useState)(""),[G,X]=(0,t.useState)(null),[_,J]=(0,t.useState)([]),[Q,Y]=(0,t.useState)(null),[Z,ee]=(0,t.useState)(null),[es,et]=(0,t.useState)(!1),[ea,el]=(0,t.useState)(""),[er,ei]=(0,t.useState)(!1),[en,ec]=(0,t.useState)(!1),[ed,eo]=(0,t.useState)({types:!0,stages:!0,terms:!1,sheets:!0}),ex=e=>{eo(s=>({...s,[e]:!s[e]}))},eu=(0,t.useCallback)(async()=>{try{let[s,t]=await Promise.all([l.default.get(`/ic/configs/event/${e}`).catch(()=>null),l.default.get(`/events/${e}`).catch(()=>null)]),a=t?.data?.data;H(a);let r=s?.data?.data;if(r){T(r),A(r.paymentStages||[]),q(r.legalTerms||""),K(r.specialNotes||""),O(r.apartmentTypes||[]);let e=await l.default.get(`/ic/configs/${r.id}/sheets`).catch(()=>null);J(e?.data?.data||[])}}catch{m("데이터를 불러올 수 없습니다.","error")}finally{D(!1)}},[e,m]);(0,t.useEffect)(()=>{eu()},[eu]);let em=async()=>{try{let s=(await l.default.post("/ic/configs",{eventId:e,paymentStages:[],legalTerms:""})).data.data;T(s),A(s.paymentStages||[]),q(s.legalTerms||""),K(s.specialNotes||""),O(s.apartmentTypes||[]),m("통합 계약 설정이 생성되었습니다.","success")}catch{m("설정 생성에 실패했습니다.","error")}},eh=async()=>{if(C){E(!0);try{let e=await l.default.patch(`/ic/configs/${C.id}`,{paymentStages:U,legalTerms:R,specialNotes:B});T(e.data.data),m("설정이 저장되었습니다.","success")}catch{m("저장에 실패했습니다.","error")}finally{E(!1)}}},eg=async e=>{if(C)try{let s=await l.default.patch(`/ic/configs/${C.id}`,{status:e});T(s.data.data),m(`상태가 "${e}"로 변경되었습니다.`,"success")}catch{m("상태 변경에 실패했습니다.","error")}},ey=async()=>{if(C&&I.trim())try{let e=await l.default.post(`/ic/configs/${C.id}/apartment-types`,{name:I.trim(),sortOrder:L.length});O(s=>[...s,e.data.data]),W(""),m("타입이 추가되었습니다.","success")}catch{m("타입 추가에 실패했습니다.","error")}},ef=async()=>{if(C&&G)try{await l.default.patch(`/ic/configs/${C.id}/apartment-types/${G.id}`,{name:G.name}),O(e=>e.map(e=>e.id===G.id?{...e,name:G.name}:e)),X(null),m("타입이 수정되었습니다.","success")}catch{m("타입 수정에 실패했습니다.","error")}},ep=async e=>{if(C)try{await l.default.delete(`/ic/configs/${C.id}/apartment-types/${e}`),O(s=>s.filter(s=>s.id!==e)),m("타입이 삭제되었습니다.","success")}catch{m("타입 삭제에 실패했습니다.","error")}},ej=async()=>{if(C&&ea.trim()){ei(!0);try{let e=await l.default.post("/ic/sheets",{configId:C.id,categoryName:ea.trim()});J(s=>[...s,e.data.data]),el(""),et(!1),m("시트가 생성되었습니다.","success")}catch{m("시트 생성에 실패했습니다.","error")}finally{ei(!1)}}},ev=async(e,s)=>{if(C)try{await l.default.patch(`/ic/configs/${C.id}/sheets/${e}`,{status:s}),J(t=>t.map(t=>t.id===e?{...t,status:s}:t)),m("시트 상태가 변경되었습니다.","success")}catch{m("상태 변경에 실패했습니다.","error")}},eb=async()=>{if(Z)try{await l.default.patch(`/ic/configs/${C.id}/sheets/${Z.id}`,{status:"inactive"}),J(e=>e.filter(e=>e.id!==Z.id)),ee(null),Q===Z.id&&Y(null),m("시트가 삭제되었습니다.","success")}catch{m("시트 삭제에 실패했습니다.","error")}},eN=async(e,s)=>{if(!C)return[];let t=await l.default.put(`/ic/configs/${C.id}/sheets/${e}/columns`,{columns:s});return t.data?.data||[]},ew=async(e,s)=>{C&&(await l.default.put(`/ic/configs/${C.id}/sheets/${e}/rows`,{rows:s}),m("시트가 저장되었습니다.","success"))},ek=P?.inviteCode?`${window.location.origin}/events/${P.inviteCode}/options`:"";return V?(0,s.jsxs)("div",{children:[(0,s.jsx)(d.default,{title:"통합 계약 설정",backHref:`/organizer/events/${e}`}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"animate-pulse h-24 bg-white rounded-2xl"},e))})]}):C?(0,s.jsxs)("div",{children:[F&&(0,s.jsx)("div",{className:"fixed inset-0 z-[200] bg-black/40 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl px-8 py-6 shadow-2xl flex items-center gap-4",children:[(0,s.jsx)($.Loader2,{className:"w-6 h-6 text-blue-600 animate-spin"}),(0,s.jsx)("span",{className:"text-base font-medium text-gray-800",children:"저장 중..."})]})}),(0,s.jsx)(d.default,{title:"통합 계약 설정",backHref:`/organizer/events/${e}`,actions:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.default,{status:C.status}),({draft:[{label:"활성화",next:"active",variant:"primary"}],active:[{label:"마감",next:"closed",variant:"danger"}],closed:[{label:"다시 활성화",next:"active",variant:"outline"}]})[C.status]?.map(e=>(0,s.jsx)(i.default,{size:"sm",variant:e.variant,onClick:()=>eg(e.next),children:e.label},e.next))]})}),ek&&(0,s.jsx)(r.default,{className:"mb-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(b.Link2,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"고객 옵션 선택 링크"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 font-mono bg-gray-50 px-2 py-1.5 rounded-lg truncate",children:ek})]}),(0,s.jsx)(i.default,{size:"sm",variant:"outline",onClick:()=>{ek&&(navigator.clipboard.writeText(ek),ec(!0),m("링크가 복사되었습니다.","success"),setTimeout(()=>ec(!1),2e3))},children:en?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Check,{className:"w-3.5 h-3.5 mr-1"})," 복사됨"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Copy,{className:"w-3.5 h-3.5 mr-1"})," 복사"]})}),(0,s.jsx)("a",{href:ek,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(i.default,{size:"sm",variant:"outline",children:(0,s.jsx)(S,{className:"w-3.5 h-3.5"})})})]})}),(0,s.jsxs)(r.default,{className:"mb-4",children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>ex("types"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.Building2,{className:"w-5 h-5 text-indigo-500"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"아파트 타입 (평형)"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:[L.length,"개"]})]}),ed.types?(0,s.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,s.jsx)(f.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),ed.types&&(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[0===L.length?(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"등록된 타입이 없습니다."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:L.map(e=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-xl p-3 flex items-center justify-between",children:G?.id===e.id?(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,s.jsx)("input",{type:"text",value:G.name,onChange:e=>X({...G,name:e.target.value}),className:"flex-1 px-2 py-1 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&ef()}),(0,s.jsx)(i.default,{size:"sm",onClick:ef,children:"저장"}),(0,s.jsx)(i.default,{size:"sm",variant:"outline",onClick:()=>X(null),children:"취소"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-6 h-6 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold",children:e.sortOrder+1}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),e.floorPlanFileId&&(0,s.jsx)("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded-full",children:"평면도"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:()=>X({id:e.id,name:e.name}),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(M.Pencil,{className:"w-3.5 h-3.5"})}),(0,s.jsx)("button",{onClick:()=>ep(e.id),className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500",children:(0,s.jsx)(u.Trash2,{className:"w-3.5 h-3.5"})})]})]})},e.id))}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:I,onChange:e=>W(e.target.value),placeholder:"새 타입명 (예: 59A, 84B)",className:"flex-1 px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&ey()}),(0,s.jsxs)(i.default,{size:"sm",onClick:ey,disabled:!I.trim(),children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4 mr-1"}),"추가"]})]})]})]}),(0,s.jsxs)(r.default,{className:"mb-4",children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>ex("stages"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(w.FileSpreadsheet,{className:"w-5 h-5 text-green-500"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"결제 단계"}),(0,s.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:0===U.length?"일시불":`${U.length}단계`})]}),ed.stages?(0,s.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,s.jsx)(f.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),ed.stages&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h,{stages:U,onChange:A})})]}),(0,s.jsxs)(r.default,{className:"mb-4",children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>ex("terms"),children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"약관 · 특약사항"}),ed.terms?(0,s.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,s.jsx)(f.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),ed.terms&&(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1.5",children:"약관"}),(0,s.jsx)("textarea",{value:R,onChange:e=>q(e.target.value),rows:5,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"고객이 계약 시 동의할 약관 내용을 입력하세요."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 block mb-1.5",children:"특약사항"}),(0,s.jsx)("textarea",{value:B,onChange:e=>K(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y",placeholder:"추가 특약사항이 있으면 입력하세요."})]})]})]}),(0,s.jsxs)(i.default,{fullWidth:!0,size:"lg",onClick:eh,loading:F,className:"mb-6",children:[(0,s.jsx)(y.Save,{className:"w-5 h-5 mr-2"}),"설정 저장"]}),(0,s.jsxs)(r.default,{children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-between",onClick:()=>ex("sheets"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(w.FileSpreadsheet,{className:"w-5 h-5 text-amber-500"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"협력업체 시트"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full",children:[_.length,"개"]})]}),ed.sheets?(0,s.jsx)(p.ChevronUp,{className:"w-4 h-4 text-gray-400"}):(0,s.jsx)(f.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),ed.sheets&&(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[es?(0,s.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-xl p-4 bg-blue-50/30",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"새 시트 만들기"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",value:ea,onChange:e=>el(e.target.value),placeholder:"카테고리명 (예: 마감재, 가전, 가구)",className:"flex-1 px-3 py-2 border border-gray-200 rounded-xl text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&ej(),autoFocus:!0}),(0,s.jsxs)(i.default,{size:"sm",onClick:ej,disabled:!ea.trim(),loading:er,children:[(0,s.jsx)(v.Check,{className:"w-4 h-4 mr-1"}),"생성"]}),(0,s.jsx)(i.default,{size:"sm",variant:"outline",onClick:()=>{et(!1),el("")},children:"취소"})]})]}):(0,s.jsxs)("button",{onClick:()=>et(!0),className:"w-full border-2 border-dashed border-gray-200 rounded-xl p-4 text-sm text-gray-500 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50/30 transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4"}),"새 시트 추가"]}),0!==_.length||es?_.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between bg-gray-50/50",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.categoryName}),(0,s.jsx)(n.default,{status:e.status})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.partner?.name||"업체"," · 열 ",e.columns?.length||0,"개 · 행 ",e.rows?.length||0,"개"]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:["draft"===e.status&&(0,s.jsxs)(i.default,{size:"sm",variant:"outline",onClick:()=>ev(e.id,"active"),children:[(0,s.jsx)(k.Eye,{className:"w-3.5 h-3.5 mr-1"})," 활성화"]}),"active"===e.status&&(0,s.jsxs)(i.default,{size:"sm",variant:"outline",onClick:()=>ev(e.id,"inactive"),children:[(0,s.jsx)(z,{className:"w-3.5 h-3.5 mr-1"})," 비활성"]}),"inactive"===e.status&&(0,s.jsxs)(i.default,{size:"sm",variant:"outline",onClick:()=>ev(e.id,"active"),children:[(0,s.jsx)(k.Eye,{className:"w-3.5 h-3.5 mr-1"})," 재활성"]}),(0,s.jsx)("button",{onClick:()=>ee(e),className:"p-2 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500",title:"시트 삭제",children:(0,s.jsx)(u.Trash2,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>Y(Q===e.id?null:e.id),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:Q===e.id?(0,s.jsx)(p.ChevronUp,{className:"w-4 h-4"}):(0,s.jsx)(f.ChevronDown,{className:"w-4 h-4"})})]})]}),Q===e.id&&(0,s.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,s.jsx)(g.default,{apartmentTypes:L,initialColumns:e.columns||[],initialRows:e.rows||[],onSaveColumns:s=>eN(e.id,s),onSaveRows:s=>ew(e.id,s)})})]},e.id)):(0,s.jsx)("p",{className:"text-sm text-gray-400 text-center py-4",children:"등록된 시트가 없습니다."})]})]}),(0,s.jsxs)(c.default,{isOpen:!!Z,onClose:()=>ee(null),title:"시트 삭제 확인",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[(0,s.jsxs)("strong",{children:["“",Z?.categoryName,"”"]})," 시트를 삭제하시겠습니까? 시트의 모든 데이터가 비활성화됩니다."]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,s.jsx)(i.default,{variant:"outline",onClick:()=>ee(null),children:"취소"}),(0,s.jsxs)(i.default,{variant:"danger",onClick:eb,children:[(0,s.jsx)(u.Trash2,{className:"w-4 h-4 mr-1"}),"삭제"]})]})]})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)(d.default,{title:"통합 계약 설정",backHref:`/organizer/events/${e}`}),(0,s.jsxs)(r.default,{className:"text-center py-12",children:[(0,s.jsx)(w.FileSpreadsheet,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"이 행사에 통합 계약 설정이 없습니다."}),(0,s.jsxs)(i.default,{onClick:em,children:[(0,s.jsx)(x.Plus,{className:"w-4 h-4 mr-2"}),"통합 계약 설정 생성"]})]})]})}e.s(["default",()=>T],25650)}]);